import{_ as p}from"./vs_code_zh-ICcBOeTO.js";import{_ as v}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r,c as m,o as b,a as n,f as c,d as t,b as k,e,w as a}from"./app-D6CC-_aF.js";const g={},f={class:"hint-container info"},x={href:"https://developer.apple.com/cn/xcode/",target:"_blank",rel:"noopener noreferrer"},A={href:"https://visualstudio.microsoft.com/zh-hans/vs/community/",target:"_blank",rel:"noopener noreferrer"},S={href:"https://github.com/Kitware/CMake/releases/download/",target:"_blank",rel:"noopener noreferrer"},w={href:"https://blog.51cto.com/mengix/2452395",target:"_blank",rel:"noopener noreferrer"},L={href:"https://slproweb.com/products/Win32OpenSSL.html",target:"_blank",rel:"noopener noreferrer"},M={class:"hint-container info"},O={href:"https://www.jianshu.com/p/44c21296add5",target:"_blank",rel:"noopener noreferrer"};function K(C,s){const d=r("RouterLink"),u=r("ExternalLinkIcon"),o=r("Tabs");return b(),m("div",null,[s[84]||(s[84]=n("p",null,"本教程将指导您完成编译和运行 ZLMediaKit。",-1)),c(" more "),s[85]||(s[85]=n("h2",{id:"构建环境",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#构建环境","aria-hidden":"true"},"#"),e(" 构建环境")],-1)),s[86]||(s[86]=n("div",{class:"hint-container tip"},[n("p",{class:"hint-container-title"},"新手提示"),n("p",null,"如果你是位新手，强烈建议使用 Ubuntu16 以上版本编译 ZLMediaKit，macOS 是次选推荐平台。不推荐使用 CentOS6.x 或 windows 构建与使用。")],-1)),n("div",f,[s[3]||(s[3]=n("p",{class:"hint-container-title"},"vcpkg",-1)),n("p",null,[s[1]||(s[1]=e("ZLMediaKit 已上架 vcpkg，便捷安装请参考 ")),t(d,{to:"/zh/guide/install/install_zlmediakit_using_vcpkg.html"},{default:a(()=>s[0]||(s[0]=[e("vcpkg 安装 ZLMediaKit")])),_:1}),s[2]||(s[2]=e("。"))])]),s[87]||(s[87]=n("h3",{id:"支持-c-11-的编译器",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#支持-c-11-的编译器","aria-hidden":"true"},"#"),e(" 支持 C++11 的编译器")],-1)),s[88]||(s[88]=n("p",null,"ZLMediaKit 采用了 C++11 的语法和库，要求编译器支持完整的 C++11 标准：",-1)),s[89]||(s[89]=n("ul",null,[n("li",null,"Linux: gcc >= 4.8 (4.7 应该也能支持)"),n("li",null,"macOS: Clang >= ??? (我也不知道，估计大部分不会遇到这个问题)"),n("li",null,"Windows: Visual Studio >= 2015 (vs2013 某些版本也能编译通过，如果怕麻烦建议直接 vs2017)")],-1)),t(o,{id:"40",data:[{id:"Debian 系 (包括 Ubuntu)"},{id:"CentOS7+"},{id:"CentOS 6.x"},{id:"macOS"},{id:"Windows"}],"tab-id":"env"},{title0:a(({value:i,isActive:l})=>s[4]||(s[4]=[e("Debian 系 (包括 Ubuntu)")])),title1:a(({value:i,isActive:l})=>s[5]||(s[5]=[e("CentOS7+")])),title2:a(({value:i,isActive:l})=>s[6]||(s[6]=[e("CentOS 6.x")])),title3:a(({value:i,isActive:l})=>s[7]||(s[7]=[e("macOS")])),title4:a(({value:i,isActive:l})=>s[8]||(s[8]=[e("Windows")])),tab0:a(({value:i,isActive:l})=>s[9]||(s[9]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"apt"),e(),n("span",{class:"token function"},"install"),e(` build-essential
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1)])),tab1:a(({value:i,isActive:l})=>s[10]||(s[10]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"sudo"),e(" yum "),n("span",{class:"token parameter variable"},"-y"),e(),n("span",{class:"token function"},"install"),e(` gcc
`),n("span",{class:"token function"},"sudo"),e(" yum "),n("span",{class:"token parameter variable"},"-y"),e(),n("span",{class:"token function"},"install"),e(` gcc-c++
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),tab2:a(({value:i,isActive:l})=>s[11]||(s[11]=[n("p",null,"需要手动切换到高版本 gcc。",-1),n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"sudo"),e(" yum "),n("span",{class:"token function"},"install"),e(" centos-release-scl "),n("span",{class:"token parameter variable"},"-y"),e(`
`),n("span",{class:"token function"},"sudo"),e(" yum "),n("span",{class:"token function"},"install"),e(" devtoolset-4-toolchain "),n("span",{class:"token parameter variable"},"-y"),e(`
`),n("span",{class:"token comment"},"# 切换到高版本 gcc"),e(`
scl `),n("span",{class:"token builtin class-name"},"enable"),e(" devtoolset-4 "),n("span",{class:"token function"},"bash"),e(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),tab3:a(({value:i,isActive:l})=>[n("p",null,[n("a",x,[s[12]||(s[12]=e("安装最新的 Xcode")),t(u)]),s[13]||(s[13]=e("。"))])]),tab4:a(({value:i,isActive:l})=>[n("p",null,[n("a",A,[s[14]||(s[14]=e("安装最新的 Visual Studio Community")),t(u)]),s[15]||(s[15]=e(" 并")),s[16]||(s[16]=n("strong",null,"勾选 C++ 开发环境",-1)),s[17]||(s[17]=e("。"))])]),_:1}),s[90]||(s[90]=n("h3",{id:"cmake",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#cmake","aria-hidden":"true"},"#"),e(" CMake")],-1)),s[91]||(s[91]=n("p",null,"ZLMediaKit 采用 CMake 来构建项目，所以编译需要 CMake。",-1)),t(o,{id:"70",data:[{id:"Debian 系 (包括 Ubuntu)"},{id:"CentOS7+"},{id:"CentOS 6.x"},{id:"macOS"},{id:"Windows"}],"tab-id":"env"},{title0:a(({value:i,isActive:l})=>s[18]||(s[18]=[e("Debian 系 (包括 Ubuntu)")])),title1:a(({value:i,isActive:l})=>s[19]||(s[19]=[e("CentOS7+")])),title2:a(({value:i,isActive:l})=>s[20]||(s[20]=[e("CentOS 6.x")])),title3:a(({value:i,isActive:l})=>s[21]||(s[21]=[e("macOS")])),title4:a(({value:i,isActive:l})=>s[22]||(s[22]=[e("Windows")])),tab0:a(({value:i,isActive:l})=>s[23]||(s[23]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"apt"),e(),n("span",{class:"token function"},"install"),e(` cmake
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1)])),tab1:a(({value:i,isActive:l})=>s[24]||(s[24]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"sudo"),e(" yum "),n("span",{class:"token parameter variable"},"-y"),e(),n("span",{class:"token function"},"install"),e(` cmake
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1)])),tab2:a(({value:i,isActive:l})=>s[25]||(s[25]=[n("p",null,"需要手动切换到高版本 CMake。",-1),n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"wget"),e(` https://github.com/Kitware/CMake/releases/download/v3.17.0-rc3/cmake-3.17.0-rc3.tar.gz
`),n("span",{class:"token function"},"tar"),e(),n("span",{class:"token parameter variable"},"-xvf"),e(` cmake-3.17.0-rc3.tar.gz
`),n("span",{class:"token builtin class-name"},"cd"),e(` cmake-3.17.0-rc3
./configure
`),n("span",{class:"token function"},"make"),e(),n("span",{class:"token parameter variable"},"-j4"),e(`
`),n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"make"),e(),n("span",{class:"token function"},"install"),e(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),tab3:a(({value:i,isActive:l})=>s[26]||(s[26]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[e("brew "),n("span",{class:"token function"},"install"),e(` cmake
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1)])),tab4:a(({value:i,isActive:l})=>[n("ul",null,[s[30]||(s[30]=n("li",null,[n("p",null,"若使用 vs2017+，vs 已包含 cmake，你只需在安装时勾选。")],-1)),n("li",null,[n("p",null,[s[28]||(s[28]=e("否则你需要 ")),n("a",S,[s[27]||(s[27]=e("下载并安装 cmake-gui")),t(u)]),s[29]||(s[29]=e("。"))])])])]),_:1}),s[92]||(s[92]=k(`<h2 id="获取代码" tabindex="-1"><a class="header-anchor" href="#获取代码" aria-hidden="true">#</a> 获取代码</h2><p>使用 Git 克隆 ZLMediaKit 的代码并初始化子模块：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 国内用户推荐从 Gitee 下载</span>
<span class="token function">git</span> clone <span class="token parameter variable">--depth</span> <span class="token number">1</span> https://gitee.com/xia-chu/ZLMediaKit
<span class="token builtin class-name">cd</span> ZLMediaKit
<span class="token comment"># 初始化子模块 （必须执行）</span>
<span class="token function">git</span> submodule update <span class="token parameter variable">--init</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>不能通过下载 zip 包的方式下载源码。因为 ZLMediaKit 依赖于第三方代码并通过 Git 子模块的方式管理。</p></div><h3 id="安装依赖库" tabindex="-1"><a class="header-anchor" href="#安装依赖库" aria-hidden="true">#</a> 安装依赖库</h3><p>ZLMediaKit 依赖一些可选的第三方库。构建时，CMake 将在 path 中查找这些库，并根据检测情况决定是否开启相关特性。</p><ul><li><p>openssl</p><p>你需要在编译前安装 openssl 库以使用相关功能。</p><ul><li>flash player 播放 rtmp</li><li>https/rtsps/webrtc 相关功能。</li></ul></li><li><p>ffmpeg</p><p>ZLMediaKit 可以通过 fork ffmpeg 进程的方式实现多种协议的拉流，编译时不需要安装 FFmpeg。</p></li><li><p>sdl、avcodec、avutil</p><p>这 3 个库供 ZLMediaKit 的 test_player 测试程序使用，你通常不需要安装这 3 个库。</p></li></ul>`,7)),t(o,{id:"157",data:[{id:"Debian 系 (包括 Ubuntu)"},{id:"CentOS7+"},{id:"CentOS 6.x"},{id:"macOS"},{id:"Windows"}],"tab-id":"env"},{title0:a(({value:i,isActive:l})=>s[31]||(s[31]=[e("Debian 系 (包括 Ubuntu)")])),title1:a(({value:i,isActive:l})=>s[32]||(s[32]=[e("CentOS7+")])),title2:a(({value:i,isActive:l})=>s[33]||(s[33]=[e("CentOS 6.x")])),title3:a(({value:i,isActive:l})=>s[34]||(s[34]=[e("macOS")])),title4:a(({value:i,isActive:l})=>s[35]||(s[35]=[e("Windows")])),tab0:a(({value:i,isActive:l})=>s[36]||(s[36]=[n("p",null,"除了 openssl，其他都是可选的:",-1),n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"apt"),e(),n("span",{class:"token function"},"install"),e(` libssl-dev
`),n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"apt"),e(),n("span",{class:"token function"},"install"),e(` libsdl-dev
`),n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"apt"),e(),n("span",{class:"token function"},"install"),e(` libavcodec-dev
`),n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"apt"),e(),n("span",{class:"token function"},"install"),e(` libavutil-dev
`),n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"apt"),e(),n("span",{class:"token function"},"install"),e(` ffmpeg
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),tab1:a(({value:i,isActive:l})=>s[37]||(s[37]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"sudo"),e(" yum "),n("span",{class:"token function"},"install"),e(` libssl-dev
`),n("span",{class:"token function"},"sudo"),e(" yum "),n("span",{class:"token function"},"install"),e(` libsdl-dev
`),n("span",{class:"token function"},"sudo"),e(" yum "),n("span",{class:"token function"},"install"),e(` libavcodec-dev
`),n("span",{class:"token function"},"sudo"),e(" yum "),n("span",{class:"token function"},"install"),e(` libavutil-dev
`),n("span",{class:"token function"},"sudo"),e(" yum "),n("span",{class:"token function"},"install"),e(` ffmpeg
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),tab2:a(({value:i,isActive:l})=>[n("p",null,[s[39]||(s[39]=e("请 ")),n("a",w,[s[38]||(s[38]=e("参考此博文")),t(u)]),s[40]||(s[40]=e("。"))])]),tab3:a(({value:i,isActive:l})=>s[41]||(s[41]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"sudo"),e(" brew "),n("span",{class:"token function"},"install"),e(` libssl-dev
`),n("span",{class:"token function"},"sudo"),e(" brew "),n("span",{class:"token function"},"install"),e(` libsdl-dev
`),n("span",{class:"token function"},"sudo"),e(" brew "),n("span",{class:"token function"},"install"),e(` libavcodec-dev
`),n("span",{class:"token function"},"sudo"),e(" brew "),n("span",{class:"token function"},"install"),e(` libavutil-dev
`),n("span",{class:"token function"},"sudo"),e(" brew "),n("span",{class:"token function"},"install"),e(` ffmpeg
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),tab4:a(({value:i,isActive:l})=>[n("p",null,[n("a",L,[s[42]||(s[42]=e("下载并安装 openssl")),t(u)]),s[43]||(s[43]=e("。"))])]),_:1}),s[93]||(s[93]=n("h2",{id:"构建与编译-zlmediakit",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#构建与编译-zlmediakit","aria-hidden":"true"},"#"),e(" 构建与编译 ZLMediaKit")],-1)),n("div",M,[s[46]||(s[46]=n("p",{class:"hint-container-title"},"webrtc",-1)),n("p",null,[s[45]||(s[45]=e("由于功能复杂，默认情况下不开启编译 webrtc，可参考 ")),t(d,{to:"/zh/guide/protocol/webrtc/webrtc_compilation_and_use.html"},{default:a(()=>s[44]||(s[44]=[e("编译与使用 webrtc")])),_:1})])]),t(o,{id:"189",data:[{id:"Linux"},{id:"macOS"},{id:"Windows"},{id:"Android"},{id:"iOS"}],"tab-id":"env"},{title0:a(({value:i,isActive:l})=>s[47]||(s[47]=[e("Linux")])),title1:a(({value:i,isActive:l})=>s[48]||(s[48]=[e("macOS")])),title2:a(({value:i,isActive:l})=>s[49]||(s[49]=[e("Windows")])),title3:a(({value:i,isActive:l})=>s[50]||(s[50]=[e("Android")])),title4:a(({value:i,isActive:l})=>s[51]||(s[51]=[e("iOS")])),tab0:a(({value:i,isActive:l})=>s[52]||(s[52]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token builtin class-name"},"cd"),e(` ZLMediaKit
`),n("span",{class:"token function"},"mkdir"),e(` build
`),n("span",{class:"token builtin class-name"},"cd"),e(` build
cmake `),n("span",{class:"token punctuation"},".."),e(`
`),n("span",{class:"token function"},"make"),e(),n("span",{class:"token parameter variable"},"-j4"),e(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),tab1:a(({value:i,isActive:l})=>s[53]||(s[53]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token builtin class-name"},"cd"),e(` ZLMediaKit
`),n("span",{class:"token function"},"mkdir"),e(` build
`),n("span",{class:"token builtin class-name"},"cd"),e(` build
`),n("span",{class:"token comment"},"# 将 DOPENSSL_ROOT_DIR 指向你的 openssl 路径"),e(`
cmake `),n("span",{class:"token punctuation"},".."),e(),n("span",{class:"token parameter variable"},"-DOPENSSL_ROOT_DIR"),n("span",{class:"token operator"},"="),e(`/usr/local/Cellar/openssl/1.0.2j/
`),n("span",{class:"token function"},"make"),e(),n("span",{class:"token parameter variable"},"-j4"),e(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),tab2:a(({value:i,isActive:l})=>[s[56]||(s[56]=n("ul",null,[n("li",null,[n("p",null,[e("若使用 vs2017+，可直接在菜单栏中通过 "),n("code",null,"文件"),e(" -> "),n("code",null,"打开"),e(" -> "),n("code",null,"文件夹"),e(" -> "),n("code",null,"选择 ZLMediaKit 代码根目录并打开"),e(" 打开项目文件夹。")]),n("figure",null,[n("img",{src:p,alt:"image",tabindex:"0",loading:"lazy"}),n("figcaption",null,"image")])]),n("li",null,[n("p",null,"否则，你应该:"),n("ol",null,[n("li",null,"使用 cmake-gui 打开工程并生成 vs 工程文件。"),n("li",null,"找到工程文件 (ZLMediaKit.sln) 并用使用 Visual Studio 打开。"),n("li",null,"选择编译 Release 版本。"),n("li",null,"找到目标文件并运行测试用例。")])])],-1)),n("p",null,[s[55]||(s[55]=e("有关 Windows 编译可参考 ")),t(d,{to:"/zh/guide/install/compilation_instructions_for_windows_version.html"},{default:a(()=>s[54]||(s[54]=[e("Windows 编译说明")])),_:1})])]),tab3:a(({value:i,isActive:l})=>s[57]||(s[57]=[n("p",null,"在 Android Studio 中打开 Android 目录。",-1)])),tab4:a(({value:i,isActive:l})=>[n("p",null,[s[59]||(s[59]=e("可参考 ")),n("a",O,[s[58]||(s[58]=e("此博文")),t(u)]),s[60]||(s[60]=e(" 生成 XCode 工程然后编译 c api 的静态库:"))]),s[61]||(s[61]=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token builtin class-name"},"cd"),e(` ZLMediaKit
`),n("span",{class:"token function"},"mkdir"),e(),n("span",{class:"token parameter variable"},"-p"),e(` build
`),n("span",{class:"token builtin class-name"},"cd"),e(` build
`),n("span",{class:"token comment"},"# 生成 XCode 工程，工程文件在 build 目录下"),e(`
cmake `),n("span",{class:"token punctuation"},".."),e(),n("span",{class:"token parameter variable"},"-G"),e(" Xcode "),n("span",{class:"token parameter variable"},"-DCMAKE_TOOLCHAIN_FILE"),n("span",{class:"token operator"},"="),n("span",{class:"token punctuation"},".."),e("/cmake/ios.toolchain.cmake  "),n("span",{class:"token parameter variable"},"-DPLATFORM"),n("span",{class:"token operator"},"="),e(`OS64COMBINED
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1))]),_:1}),s[94]||(s[94]=n("h2",{id:"运行-zlmediakit",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#运行-zlmediakit","aria-hidden":"true"},"#"),e(" 运行 ZLMediaKit")],-1)),s[95]||(s[95]=n("p",null,"ZLMediaKit 工程主要生成 3 种二进制目标文件，他们的生成的路径在 release 目录下。",-1)),s[96]||(s[96]=n("h3",{id:"mediaserver-进程",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#mediaserver-进程","aria-hidden":"true"},"#"),e(" MediaServer 进程")],-1)),s[97]||(s[97]=n("p",null,"这是 ZLMediaKit 作为服务器的主进程，该进程可以在免去开发的情况下直接作为测试流媒体服务器使用。",-1)),n("p",null,[s[65]||(s[65]=e("如果你需要更复杂的业务逻辑，可以通过 ")),t(d,{to:"/zh/guide/media_server/web_hook_api.html"},{default:a(()=>s[62]||(s[62]=[e("Web HOOK")])),_:1}),s[66]||(s[66]=e("和 ")),t(d,{to:"/zh/guide/media_server/restful_api.html"},{default:a(()=>s[63]||(s[63]=[e("RESTful API")])),_:1}),s[67]||(s[67]=e("实现。你可以通过 ")),t(d,{to:"/zh/guide/media_server/config_file.html"},{default:a(()=>s[64]||(s[64]=[e("配置文件")])),_:1}),s[68]||(s[68]=e(" 控制其参数。"))]),t(o,{id:"265",data:[{id:"Linux"},{id:"macOS"},{id:"Windows"}],"tab-id":"env"},{title0:a(({value:i,isActive:l})=>s[69]||(s[69]=[e("Linux")])),title1:a(({value:i,isActive:l})=>s[70]||(s[70]=[e("macOS")])),title2:a(({value:i,isActive:l})=>s[71]||(s[71]=[e("Windows")])),tab0:a(({value:i,isActive:l})=>s[72]||(s[72]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token builtin class-name"},"cd"),e(` ZLMediaKit/release/linux/Debug
`),n("span",{class:"token comment"},"# 通过 -h 可以了解启动参数"),e(`
./MediaServer `),n("span",{class:"token parameter variable"},"-h"),e(`
`),n("span",{class:"token comment"},"# 以守护进程模式启动"),e(`
./MediaServer `),n("span",{class:"token parameter variable"},"-d"),e(),n("span",{class:"token operator"},"&"),e(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),tab1:a(({value:i,isActive:l})=>s[73]||(s[73]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token builtin class-name"},"cd"),e(` ZLMediaKit/release/mac/Debug
`),n("span",{class:"token comment"},"# 通过 -h 可以了解启动参数"),e(`
./MediaServer `),n("span",{class:"token parameter variable"},"-h"),e(`
`),n("span",{class:"token comment"},"# 以守护进程模式启动"),e(`
./MediaServer `),n("span",{class:"token parameter variable"},"-d"),e(),n("span",{class:"token operator"},"&"),e(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),tab2:a(({value:i,isActive:l})=>s[74]||(s[74]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token builtin class-name"},"cd"),e(` ZLMediaKit/release/windows/Debug
`),n("span",{class:"token comment"},"# 通过 -h 可以了解启动参数"),e(`
.`),n("span",{class:"token punctuation"},"\\"),e("MediaServer.exe "),n("span",{class:"token parameter variable"},"-h"),e(`
`),n("span",{class:"token comment"},"# 以守护进程模式启动"),e(`
.`),n("span",{class:"token punctuation"},"\\"),e("MediaServer.exe "),n("span",{class:"token parameter variable"},"-d"),e(),n("span",{class:"token operator"},"&"),e(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),_:1}),s[98]||(s[98]=n("h3",{id:"c-接口的-sdk",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#c-接口的-sdk","aria-hidden":"true"},"#"),e(" C 接口的 SDK")],-1)),s[99]||(s[99]=n("p",null,"ZLMediaKit 同时提供 C 接口的 SDK 库。",-1)),s[100]||(s[100]=n("p",null,[e("头文件位于 "),n("code",null,"ZLMediaKit/api/include"),e("，有详细的注释，一般足够二次开发使用。")],-1)),s[101]||(s[101]=n("p",null,"库文件为:",-1)),t(o,{id:"288",data:[{id:"Linux"},{id:"macOS"},{id:"Windows"}],"tab-id":"env"},{title0:a(({value:i,isActive:l})=>s[75]||(s[75]=[e("Linux")])),title1:a(({value:i,isActive:l})=>s[76]||(s[76]=[e("macOS")])),title2:a(({value:i,isActive:l})=>s[77]||(s[77]=[e("Windows")])),tab0:a(({value:i,isActive:l})=>s[78]||(s[78]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,`ZLMediaKit/release/linux/Debug/libmk_api.so
`)]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1)])),tab1:a(({value:i,isActive:l})=>s[79]||(s[79]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,`ZLMediaKit/release/linux/mac/libmk_api.dylib
`)]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1)])),tab2:a(({value:i,isActive:l})=>s[80]||(s[80]=[n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,`ZLMediaKit/release/windows/Debug/mk_api.dll
ZLMediaKit/release/windows/Debug/mk_api.lib
`)]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),_:1}),s[102]||(s[102]=n("h3",{id:"以-test-开头的测试程序",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#以-test-开头的测试程序","aria-hidden":"true"},"#"),e(" 以 "),n("code",null,"test_"),e(" 开头的测试程序")],-1)),s[103]||(s[103]=n("p",null,[e("相关代码在 "),n("code",null,"ZLMediaKit/tests"),e(" 目录下，你可以对照代码启动测试进程。")],-1)),s[104]||(s[104]=n("h2",{id:"推流测试",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#推流测试","aria-hidden":"true"},"#"),e(" 推流测试")],-1)),n("p",null,[s[82]||(s[82]=e("请参考 ")),t(d,{to:"/zh/guide/media_server/push_test.html"},{default:a(()=>s[81]||(s[81]=[e("推流播放测试")])),_:1}),s[83]||(s[83]=e("。"))])])}const z=v(g,[["render",K],["__file","index.html.vue"]]);export{z as default};
