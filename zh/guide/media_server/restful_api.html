<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.0" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.4" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="alternate" hreflang="en-us" href="https://docs.ZLMediaKit.com/guide/media_server/restful_api.html"><meta property="og:url" content="https://docs.ZLMediaKit.com/zh/guide/media_server/restful_api.html"><meta property="og:site_name" content="ZLMediaKit"><meta property="og:title" content="RESTful 接口"><meta property="og:description" content="下载 postman 配置文件(可以在线测试 restful api) postman 配置文件 (https://github.com/xia-chu/ZLMediaKit/tree/master/postman) 由于接口更新频繁，在观看本文档的同时，请大家再使用 postman 核对测试接口，同时本文档可能有些接口有遗漏，你也可以参考代码 (ht..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:locale:alternate" content="en-US"><meta property="og:updated_time" content="2024-03-06T03:34:44.000Z"><meta property="article:author" content="ZLMediaKit"><meta property="article:modified_time" content="2024-03-06T03:34:44.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"RESTful 接口","image":[""],"dateModified":"2024-03-06T03:34:44.000Z","author":[{"@type":"Person","name":"ZLMediaKit","url":"https://docs.ZLMediaKit.com"}]}</script><link rel="icon" href="/favicon.ico"><link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/assets/icon/apple-touch-icon-152x152.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>RESTful 接口 | ZLMediaKit</title><meta name="description" content="下载 postman 配置文件(可以在线测试 restful api) postman 配置文件 (https://github.com/xia-chu/ZLMediaKit/tree/master/postman) 由于接口更新频繁，在观看本文档的同时，请大家再使用 postman 核对测试接口，同时本文档可能有些接口有遗漏，你也可以参考代码 (ht...">
    <link rel="preload" href="/assets/style-BvgubnMm.css" as="style"><link rel="stylesheet" href="/assets/style-BvgubnMm.css">
    <link rel="modulepreload" href="/assets/app-CF_X8wgR.js"><link rel="modulepreload" href="/assets/restful_api.html-C_SDP7qn.js"><link rel="modulepreload" href="/assets/restful_api.html-Darkz9rF.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/zh/"><img class="vp-nav-logo" src="/logo.svg" alt="ZLMediaKit"><!----><span class="vp-site-name hide-in-pad">ZLMediaKit</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="首页" class="vp-link nav-link nav-link" href="/zh/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>首页<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="指南" class="vp-link nav-link active nav-link active" href="/zh/guide/"><span class="font-icon icon fa-fw fa-sm fas fa-terminal" style=""></span>指南<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="快速开始" class="vp-link nav-link nav-link" href="/zh/tutorial/"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>快速开始<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="参考"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>参考</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="测试" class="vp-link nav-link nav-link" href="/zh/reference/test.html"><span class="font-icon icon fa-fw fa-sm fas fa-vials" style=""></span>测试<!----></a></li><li class="dropdown-item"><a aria-label="相关资源" class="vp-link nav-link nav-link" href="/zh/reference/resources.html"><span class="font-icon icon fa-fw fa-sm fas fa-font-awesome" style=""></span>相关资源<!----></a></li><li class="dropdown-item"><a aria-label="相关文档" class="vp-link nav-link nav-link" href="/zh/reference/documents.html"><span class="font-icon icon fa-fw fa-sm fas fa-file-code" style=""></span>相关文档<!----></a></li><li class="dropdown-item"><a aria-label="开发日志" class="vp-link nav-link nav-link" href="/zh/reference/development_log.html"><span class="font-icon icon fa-fw fa-sm fas fa-code-commit" style=""></span>开发日志<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="了解更多"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span>了解更多</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="合作项目" class="vp-link nav-link nav-link" href="/zh/more/collaborative_projects.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>合作项目<!----></a></li><li class="dropdown-item"><a aria-label="授权协议" class="vp-link nav-link nav-link" href="/zh/more/license.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>授权协议<!----></a></li><li class="dropdown-item"><a aria-label="致谢" class="vp-link nav-link nav-link" href="/zh/more/thanks.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>致谢<!----></a></li><li class="dropdown-item"><a aria-label="联系我们" class="vp-link nav-link nav-link" href="/zh/more/contact.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>联系我们<!----></a></li><li class="dropdown-item"><a aria-label="使用案例" class="vp-link nav-link nav-link" href="/zh/more/use_cases.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>使用案例<!----></a></li></ul></button></div></div></nav><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="选择语言"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="English" class="vp-link nav-link nav-link" href="/guide/media_server/restful_api.html"><!---->English<!----></a></li><li class="dropdown-item"><a aria-label="简体中文" class="vp-link nav-link active nav-link active" href="/zh/guide/media_server/restful_api.html"><!---->简体中文<!----></a></li></ul></button></div></div><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/ZLMediaKit/ZLMediaKit" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a aria-label="首页" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>首页<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="快速开始" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/tutorial/"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>快速开始<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading active"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">指南</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="指南" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/"><span class="font-icon icon fa-fw fa-sm fas fa-terminal" style=""></span>指南<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-gears" style=""></span><span class="vp-sidebar-title">Media Server</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="RESTful 接口" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/zh/guide/media_server/restful_api.html"><!---->RESTful 接口<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="下载 postman 配置文件(可以在线测试 restful api)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#下载-postman-配置文件-可以在线测试-restful-api"><!---->下载 postman 配置文件(可以在线测试 restful api)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="API 预览" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#api-预览"><!---->API 预览<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="API 返回结果约定" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#api-返回结果约定"><!---->API 返回结果约定<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="API 详解" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#api-详解"><!---->API 详解<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="0、/index/api/getApiList" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_0、-index-api-getapilist"><!---->0、/index/api/getApiList<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1、/index/api/getThreadsLoad" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_1、-index-api-getthreadsload"><!---->1、/index/api/getThreadsLoad<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2、/index/api/getWorkThreadsLoad" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_2、-index-api-getworkthreadsload"><!---->2、/index/api/getWorkThreadsLoad<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="3、/index/api/getServerConfig" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_3、-index-api-getserverconfig"><!---->3、/index/api/getServerConfig<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="4、/index/api/setServerConfig" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_4、-index-api-setserverconfig"><!---->4、/index/api/setServerConfig<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="5、/index/api/restartServer" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_5、-index-api-restartserver"><!---->5、/index/api/restartServer<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="6、/index/api/getMediaList" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_6、-index-api-getmedialist"><!---->6、/index/api/getMediaList<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="7、/index/api/close_stream(已过期，请使用 close_streams 接口替换)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_7、-index-api-close-stream-已过期-请使用-close-streams-接口替换"><!---->7、/index/api/close_stream(已过期，请使用 close_streams 接口替换)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="8、/index/api/close_streams" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_8、-index-api-close-streams"><!---->8、/index/api/close_streams<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="9、/index/api/getAllSession" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_9、-index-api-getallsession"><!---->9、/index/api/getAllSession<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="10、/index/api/kick_session" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_10、-index-api-kick-session"><!---->10、/index/api/kick_session<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="11、/index/api/kick_sessions" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_11、-index-api-kick-sessions"><!---->11、/index/api/kick_sessions<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="12、/index/api/addStreamProxy" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_12、-index-api-addstreamproxy"><!---->12、/index/api/addStreamProxy<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="13、/index/api/delStreamProxy(流注册成功后，也可以使用close_streams接口替代)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_13、-index-api-delstreamproxy-流注册成功后-也可以使用close-streams接口替代"><!---->13、/index/api/delStreamProxy(流注册成功后，也可以使用close_streams接口替代)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="14、/index/api/addFFmpegSource" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_14、-index-api-addffmpegsource"><!---->14、/index/api/addFFmpegSource<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="15、/index/api/delFFmpegSource(流注册成功后，也可以使用close_streams接口替代)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_15、-index-api-delffmpegsource-流注册成功后-也可以使用close-streams接口替代"><!---->15、/index/api/delFFmpegSource(流注册成功后，也可以使用close_streams接口替代)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="16、/index/api/isMediaOnline(已过期，请使用getMediaList接口替代)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_16、-index-api-ismediaonline-已过期-请使用getmedialist接口替代"><!---->16、/index/api/isMediaOnline(已过期，请使用getMediaList接口替代)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="17、/index/api/getMediaInfo(已过期，请使用getMediaList接口替代)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_17、-index-api-getmediainfo-已过期-请使用getmedialist接口替代"><!---->17、/index/api/getMediaInfo(已过期，请使用getMediaList接口替代)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="18、/index/api/getRtpInfo" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_18、-index-api-getrtpinfo"><!---->18、/index/api/getRtpInfo<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="19、/index/api/getMp4RecordFile" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_19、-index-api-getmp4recordfile"><!---->19、/index/api/getMp4RecordFile<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="20、/index/api/startRecord" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_20、-index-api-startrecord"><!---->20、/index/api/startRecord<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="21、/index/api/stopRecord" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_21、-index-api-stoprecord"><!---->21、/index/api/stopRecord<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="22、/index/api/isRecording" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_22、-index-api-isrecording"><!---->22、/index/api/isRecording<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="23、/index/api/getSnap" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_23、-index-api-getsnap"><!---->23、/index/api/getSnap<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="24、/index/api/openRtpServer" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_24、-index-api-openrtpserver"><!---->24、/index/api/openRtpServer<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="25、/index/api/closeRtpServer" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_25、-index-api-closertpserver"><!---->25、/index/api/closeRtpServer<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="26、/index/api/listRtpServer" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_26、-index-api-listrtpserver"><!---->26、/index/api/listRtpServer<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="27、/index/api/startSendRtp" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_27、-index-api-startsendrtp"><!---->27、/index/api/startSendRtp<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="28、/index/api/stopSendRtp" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_28、-index-api-stopsendrtp"><!---->28、/index/api/stopSendRtp<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="29、/index/api/getStatistic" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_29、-index-api-getstatistic"><!---->29、/index/api/getStatistic<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="30、/index/api/addStreamPusherProxy" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_30、-index-api-addstreampusherproxy"><!---->30、/index/api/addStreamPusherProxy<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="31、/index/api/delStreamPusherProxy(可以使用close_streams接口关闭源直播流也可以停止推流)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_31、-index-api-delstreampusherproxy-可以使用close-streams接口关闭源直播流也可以停止推流"><!---->31、/index/api/delStreamPusherProxy(可以使用close_streams接口关闭源直播流也可以停止推流)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="32、/index/api/version(获取版本信息)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_32、-index-api-version-获取版本信息"><!---->32、/index/api/version(获取版本信息)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="33、/index/api/getMediaPlayerList" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_33、-index-api-getmediaplayerlist"><!---->33、/index/api/getMediaPlayerList<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a aria-label="Web Hook 接口" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/web_hook_api.html"><!---->Web Hook 接口<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="实现按需拉流" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/on-demand_streaming.html"><!---->实现按需拉流<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="实现按需推流" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/on-demand_push_streaming.html"><!---->实现按需推流<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="实现推流鉴权" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/push_authentication.html"><!---->实现推流鉴权<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="实现播放鉴权" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/playback_authentication.html"><!---->实现播放鉴权<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="怎么开启https相关功能" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/how_to_enable_https_related_functions.html"><!---->怎么开启https相关功能<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="推流播放测试" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/push_test.html"><!---->推流播放测试<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="播放url规则" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/play_url_rules.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>播放url规则<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="时序图" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/sequence_diagram.html"><!---->时序图<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="服务器的启动与关闭" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/start_server.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>服务器的启动与关闭<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="生成SSL自签名证书并测试" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/generate_ssl_self-signed_certificate_and_test.html"><!---->生成SSL自签名证书并测试<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="配置文件详解" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/config_file.html"><!---->配置文件详解<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-cube" style=""></span><span class="vp-sidebar-title">SDK API</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-code" style=""></span><span class="vp-sidebar-title">代码解读</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span><span class="vp-sidebar-title">协议相关</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-box-archive" style=""></span><span class="vp-sidebar-title">安装</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-question" style=""></span><span class="vp-sidebar-title">常见问题</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a aria-label="参考" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/zh/reference/"><!---->参考<!----></a><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-code-commit" style=""></span><span class="vp-sidebar-title">开发日志</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-vials" style=""></span><span class="vp-sidebar-title">测试</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-file-code" style=""></span><span class="vp-sidebar-title">相关文档</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-font-awesome" style=""></span><span class="vp-sidebar-title">相关资源</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a aria-label="了解更多" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/zh/more/"><!---->了解更多<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="使用案例" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/more/use_cases.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>使用案例<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="合作项目" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/more/collaborative_projects.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>合作项目<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="授权协议" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/more/license.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>授权协议<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="联系我们" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/more/contact.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>联系我们<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="致谢" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/more/thanks.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>致谢<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->RESTful 接口</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://docs.ZLMediaKit.com" target="_blank" rel="noopener noreferrer">ZLMediaKit</a></span><span property="author" content="ZLMediaKit"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-11-19T14:25:10.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 19 分钟</span><meta property="timeRequired" content="PT19M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#下载-postman-配置文件-可以在线测试-restful-api">下载 postman 配置文件(可以在线测试 restful api)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#api-预览">API 预览</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#api-返回结果约定">API 返回结果约定</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#api-详解">API 详解</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_0、-index-api-getapilist">0、/index/api/getApiList</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_1、-index-api-getthreadsload">1、/index/api/getThreadsLoad</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_2、-index-api-getworkthreadsload">2、/index/api/getWorkThreadsLoad</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_3、-index-api-getserverconfig">3、/index/api/getServerConfig</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_4、-index-api-setserverconfig">4、/index/api/setServerConfig</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_5、-index-api-restartserver">5、/index/api/restartServer</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_6、-index-api-getmedialist">6、/index/api/getMediaList</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_7、-index-api-close-stream-已过期-请使用-close-streams-接口替换">7、/index/api/close_stream(已过期，请使用 close_streams 接口替换)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_8、-index-api-close-streams">8、/index/api/close_streams</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_9、-index-api-getallsession">9、/index/api/getAllSession</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_10、-index-api-kick-session">10、/index/api/kick_session</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_11、-index-api-kick-sessions">11、/index/api/kick_sessions</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_12、-index-api-addstreamproxy">12、/index/api/addStreamProxy</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_13、-index-api-delstreamproxy-流注册成功后-也可以使用close-streams接口替代">13、/index/api/delStreamProxy(流注册成功后，也可以使用close_streams接口替代)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_14、-index-api-addffmpegsource">14、/index/api/addFFmpegSource</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_15、-index-api-delffmpegsource-流注册成功后-也可以使用close-streams接口替代">15、/index/api/delFFmpegSource(流注册成功后，也可以使用close_streams接口替代)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_16、-index-api-ismediaonline-已过期-请使用getmedialist接口替代">16、/index/api/isMediaOnline(已过期，请使用getMediaList接口替代)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_17、-index-api-getmediainfo-已过期-请使用getmedialist接口替代">17、/index/api/getMediaInfo(已过期，请使用getMediaList接口替代)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_18、-index-api-getrtpinfo">18、/index/api/getRtpInfo</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_19、-index-api-getmp4recordfile">19、/index/api/getMp4RecordFile</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_20、-index-api-startrecord">20、/index/api/startRecord</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_21、-index-api-stoprecord">21、/index/api/stopRecord</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_22、-index-api-isrecording">22、/index/api/isRecording</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_23、-index-api-getsnap">23、/index/api/getSnap</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_24、-index-api-openrtpserver">24、/index/api/openRtpServer</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_25、-index-api-closertpserver">25、/index/api/closeRtpServer</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_26、-index-api-listrtpserver">26、/index/api/listRtpServer</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_27、-index-api-startsendrtp">27、/index/api/startSendRtp</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_28、-index-api-stopsendrtp">28、/index/api/stopSendRtp</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_29、-index-api-getstatistic">29、/index/api/getStatistic</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_30、-index-api-addstreampusherproxy">30、/index/api/addStreamPusherProxy</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_31、-index-api-delstreampusherproxy-可以使用close-streams接口关闭源直播流也可以停止推流">31、/index/api/delStreamPusherProxy(可以使用close_streams接口关闭源直播流也可以停止推流)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_32、-index-api-version-获取版本信息">32、/index/api/version(获取版本信息)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_33、-index-api-getmediaplayerlist">33、/index/api/getMediaPlayerList</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h2 id="下载-postman-配置文件-可以在线测试-restful-api" tabindex="-1"><a class="header-anchor" href="#下载-postman-配置文件-可以在线测试-restful-api" aria-hidden="true">#</a> 下载 postman 配置文件(可以在线测试 restful api)</h2><p><a href="https://github.com/xia-chu/ZLMediaKit/tree/master/postman" target="_blank" rel="noopener noreferrer">postman 配置文件<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>由于接口更新频繁，在观看本文档的同时，请大家再使用 postman 核对测试接口，同时本文档可能有些接口有遗漏，你也可以参考<a href="https://github.com/xia-chu/ZLMediaKit/blob/master/server/WebApi.cpp#L261" target="_blank" rel="noopener noreferrer">代码<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="api-预览" tabindex="-1"><a class="header-anchor" href="#api-预览" aria-hidden="true">#</a> API 预览</h2><p>MediaServer 是 ZLMediaKit 的主进程，目前支持以下 http api 接口，这些接口全部支持 GET/POST 方式，</p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code>      &quot;/index/api/addFFmpegSource&quot;,
      &quot;/index/api/addStreamProxy&quot;,
      &quot;/index/api/close_stream&quot;,
      &quot;/index/api/close_streams&quot;,
      &quot;/index/api/delFFmpegSource&quot;,
      &quot;/index/api/delStreamProxy&quot;,
      &quot;/index/api/getAllSession&quot;,
      &quot;/index/api/getApiList&quot;,
      &quot;/index/api/getMediaList&quot;,
      &quot;/index/api/getServerConfig&quot;,
      &quot;/index/api/getThreadsLoad&quot;,
      &quot;/index/api/getWorkThreadsLoad&quot;,
      &quot;/index/api/kick_session&quot;,
      &quot;/index/api/kick_sessions&quot;,
      &quot;/index/api/restartServer&quot;,
      &quot;/index/api/setServerConfig&quot;,
      &quot;/index/api/isMediaOnline&quot;,
      &quot;/index/api/getMediaInfo&quot;,
      &quot;/index/api/getRtpInfo&quot;,
      &quot;/index/api/getMp4RecordFile&quot;,
      &quot;/index/api/startRecord&quot;,
      &quot;/index/api/stopRecord&quot;,
      &quot;/index/api/getRecordStatus&quot;,
      &quot;/index/api/getSnap&quot;,
      &quot;/index/api/openRtpServer&quot;,
      &quot;/index/api/closeRtpServer&quot;,
      &quot;/index/api/listRtpServer&quot;,
      &quot;/index/api/startSendRtp&quot;,
      &quot;/index/api/stopSendRtp&quot;,
      &quot;/index/api/getStatistic&quot;,
      &quot;/index/api/addStreamPusherProxy&quot;,
      &quot;/index/api/delStreamPusherProxy&quot;,
      &quot;/index/api/version&quot;,
      &quot;/index/api/getMediaPlayerList&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中 POST 方式，参数既可以使用 urlencoded 方式也可以使用 json 方式。 操作这些 api 一般需要提供 secret 参数以便鉴权。</p><h2 id="api-返回结果约定" tabindex="-1"><a class="header-anchor" href="#api-返回结果约定" aria-hidden="true">#</a> API 返回结果约定</h2><ul><li>HTTP 层面统一返回 200 状态码，body 统一为 json。</li><li>body 一般为以下样式：</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;失败提示&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>code 值代表执行结果，目前包含以下类型：</li></ul><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">typedef</span> <span class="token keyword">enum</span> <span class="token punctuation">{</span>
    Exception <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token comment">//代码抛异常</span>
    InvalidArgs <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token comment">//参数不合法</span>
    SqlFailed <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token comment">//sql执行失败</span>
    AuthFailed <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token comment">//鉴权失败</span>
    OtherFailed <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">//业务代码执行失败，</span>
    Success <span class="token operator">=</span> <span class="token number">0</span><span class="token comment">//执行成功</span>
<span class="token punctuation">}</span> ApiErr<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>如果执行成功，那么<code>code == 0</code>,并且一般无<code>msg</code>字段。</p></li><li><p><code>code == -1</code>时代表业务代码执行不成功，更细的原因一般提供<code>result</code>字段，例如以下：</p></li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span> # 代表业务代码执行失败
    <span class="token property">&quot;msg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;can not find the stream&quot;</span><span class="token punctuation">,</span> # 失败提示
    <span class="token property">&quot;result&quot;</span> <span class="token operator">:</span> <span class="token number">-2</span> # 业务代码执行失败具体原因
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>开发者一般只要关注<code>code</code>字段和<code>msg</code>字段，如果<code>code != 0</code>时，打印显示<code>msg</code>字段即可。</p></li><li><p><code>code == 0</code>时代表完全成功，如果有数据返回，一般提供<code>data</code>字段返回数据。</p></li></ul><h2 id="api-详解" tabindex="-1"><a class="header-anchor" href="#api-详解" aria-hidden="true">#</a> API 详解</h2><h3 id="_0、-index-api-getapilist" tabindex="-1"><a class="header-anchor" href="#_0、-index-api-getapilist" aria-hidden="true">#</a> 0、<code>/index/api/getApiList</code></h3><ul><li><p>功能：获取 API 列表</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/getApiList" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getApiList<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;/index/&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/addFFmpegSource&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/addStreamProxy&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/addStreamPusherProxy&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/closeRtpServer&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/close_stream&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/delFFmpegSource&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/delStreamProxy&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/delStreamPusherProxy&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/downloadBin&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getAllSession&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getApiList&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getMediaInfo&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getMediaList&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getMp4RecordFile&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getRtpInfo&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getServerConfig&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getSnap&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getStatistic&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getThreadsLoad&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getWorkThreadsLoad&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/isMediaOnline&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/isRecording&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/kick_session&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/kick_sessions&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/listRtpServer&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/openRtpServer&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/pauseRtpCheck&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/restartServer&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/resumeRtpCheck&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/setServerConfig&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/startRecord&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/startSendRtp&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/stopRecord&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/stopSendRtp&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/version&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/webrtc&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_flow_report&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_http_access&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_play&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_publish&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_record_hls&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_record_mp4&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_rtsp_auth&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_rtsp_realm&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_server_started&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_shell_login&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_stream_changed&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_stream_none_reader&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_stream_not_found&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_stream_not_found_ffmpeg&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_1、-index-api-getthreadsload" tabindex="-1"><a class="header-anchor" href="#_1、-index-api-getthreadsload" aria-hidden="true">#</a> 1、<code>/index/api/getThreadsLoad</code></h3><ul><li><p>功能：获取各 epoll(或 select)线程负载以及延时</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/getThreadsLoad" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getThreadsLoad<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr></tbody></table></li><li><p>响应:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;delay&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # 该线程延时
         <span class="token property">&quot;load&quot;</span> <span class="token operator">:</span> <span class="token number">0</span> # 该线程负载，<span class="token number">0</span> ~ <span class="token number">100</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;delay&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token property">&quot;load&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_2、-index-api-getworkthreadsload" tabindex="-1"><a class="header-anchor" href="#_2、-index-api-getworkthreadsload" aria-hidden="true">#</a> 2、<code>/index/api/getWorkThreadsLoad</code></h3><ul><li><p>功能：获取各后台 epoll(或 select)线程负载以及延时</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/getWorkThreadsLoad" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getWorkThreadsLoad<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr></tbody></table></li><li><p>响应:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;delay&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # 该线程延时
         <span class="token property">&quot;load&quot;</span> <span class="token operator">:</span> <span class="token number">0</span> # 该线程负载，<span class="token number">0</span> ~ <span class="token number">100</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;delay&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token property">&quot;load&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_3、-index-api-getserverconfig" tabindex="-1"><a class="header-anchor" href="#_3、-index-api-getserverconfig" aria-hidden="true">#</a> 3、<code>/index/api/getServerConfig</code></h3><ul><li><p>功能：获取服务器配置</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/getServerConfig" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getServerConfig<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;api.apiDebug&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;api.secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;035c73f7-bb6b-4889-a715-d9eb2d1925cc&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ffmpeg.bin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/usr/local/bin/ffmpeg&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ffmpeg.cmd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;%s -i %s -c:a aac -strict -2 -ar 44100 -ab 48k -c:v libx264 -f flv %s&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ffmpeg.log&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/Users/xzl/git/ZLMediaKit/cmake-build-debug/bin/ffmpeg/ffmpeg.log&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;general.enableVhost&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;general.flowThreshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1024&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;general.maxStreamWaitMS&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;general.streamNoneReaderDelayMS&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hls.fileBufSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65536&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hls.filePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/Users/xzl/git/ZLMediaKit/cmake-build-debug/bin/httpRoot&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hls.segDur&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hls.segNum&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.access_file_except_hls&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.admin_params&quot;</span><span class="token operator">:</span> <span class="token string">&quot;secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.enable&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_flow_report&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_flow_report&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_http_access&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_http_access&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_play&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_play&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_publish&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_publish&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_record_mp4&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_record_mp4&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_rtsp_auth&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_rtsp_auth&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_rtsp_realm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_rtsp_realm&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_shell_login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_shell_login&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_stream_changed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_stream_changed&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_stream_none_reader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_stream_none_reader&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_stream_not_found&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_stream_not_found&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.timeoutSec&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.charSet&quot;</span><span class="token operator">:</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.keepAliveSecond&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.maxReqCount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.maxReqSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4096&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.notFound&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;&lt;body bgcolor=\&quot;white\&quot;&gt;&lt;center&gt;&lt;h1&gt;您访问的资源不存在！&lt;/h1&gt;&lt;/center&gt;&lt;hr&gt;&lt;center&gt;ZLMediaKit-4.0&lt;/center&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.port&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.rootPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/Users/xzl/git/ZLMediaKit/cmake-build-debug/bin/httpRoot&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.sendBufSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65536&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.sslport&quot;</span><span class="token operator">:</span> <span class="token string">&quot;443&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;multicast.addrMax&quot;</span><span class="token operator">:</span> <span class="token string">&quot;239.255.255.255&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;multicast.addrMin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;239.0.0.0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;multicast.udpTTL&quot;</span><span class="token operator">:</span> <span class="token string">&quot;64&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;record.appName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;record.filePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/Users/xzl/git/ZLMediaKit/cmake-build-debug/bin/httpRoot&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;record.fileSecond&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3600&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;record.sampleMS&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtmp.handshakeSecond&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtmp.keepAliveSecond&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtmp.modifyStamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtmp.port&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1935&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtp.audioMtuSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;600&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtp.clearCount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtp.cycleMS&quot;</span><span class="token operator">:</span> <span class="token string">&quot;46800000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtp.maxRtpCount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;50&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtp.videoMtuSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1400&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtsp.authBasic&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtsp.handshakeSecond&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtsp.keepAliveSecond&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtsp.port&quot;</span><span class="token operator">:</span> <span class="token string">&quot;554&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtsp.sslport&quot;</span><span class="token operator">:</span> <span class="token string">&quot;322&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;shell.maxReqSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1024&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;shell.port&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9000&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_4、-index-api-setserverconfig" tabindex="-1"><a class="header-anchor" href="#_4、-index-api-setserverconfig" aria-hidden="true">#</a> 4、<code>/index/api/setServerConfig</code></h3><ul><li><p>功能：设置服务器配置</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/setServerConfig?api.apiDebug=0" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/setServerConfig?api.apiDebug=0(例如关闭 http api 调试)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;changed&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # 配置项变更个数
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>     # <span class="token number">0</span>代表成功
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_5、-index-api-restartserver" tabindex="-1"><a class="header-anchor" href="#_5、-index-api-restartserver" aria-hidden="true">#</a> 5、<code>/index/api/restartServer</code></h3><ul><li><p>功能：重启服务器,只有 Daemon 方式才能重启，否则是直接关闭！</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/restartServer" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/restartServer<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;服务器将在一秒后自动重启&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_6、-index-api-getmedialist" tabindex="-1"><a class="header-anchor" href="#_6、-index-api-getmedialist" aria-hidden="true">#</a> 6、<code>/index/api/getMediaList</code></h3><ul><li><p>功能：获取流列表，可选筛选参数</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/getMediaList" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getMediaList<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">N</td><td style="text-align:center;">筛选协议，例如 rtsp 或 rtmp</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">N</td><td style="text-align:center;">筛选虚拟主机，例如<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">N</td><td style="text-align:center;">筛选应用名，例如 live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">N</td><td style="text-align:center;">筛选流 id，例如 test</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
     <span class="token property">&quot;app&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;live&quot;</span><span class="token punctuation">,</span>  # 应用名
     <span class="token property">&quot;readerCount&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # 本协议观看人数
     <span class="token property">&quot;totalReaderCount&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # 观看总人数，包括hls/rtsp/rtmp/http-flv/ws-flv
     <span class="token property">&quot;schema&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;rtsp&quot;</span><span class="token punctuation">,</span> # 协议
     <span class="token property">&quot;stream&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;obs&quot;</span><span class="token punctuation">,</span> # 流id
     <span class="token property">&quot;originSock&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  # 客户端和服务器网络信息，可能为<span class="token null keyword">null</span>类型
            <span class="token property">&quot;identifier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;140241931428384&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;local_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;local_port&quot;</span><span class="token operator">:</span> <span class="token number">1935</span><span class="token punctuation">,</span>
            <span class="token property">&quot;peer_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;peer_port&quot;</span><span class="token operator">:</span> <span class="token number">50097</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token property">&quot;originType&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> # 产生源类型，包括 unknown = <span class="token number">0</span><span class="token punctuation">,</span>rtmp_push=<span class="token number">1</span><span class="token punctuation">,</span>rtsp_push=<span class="token number">2</span><span class="token punctuation">,</span>rtp_push=<span class="token number">3</span><span class="token punctuation">,</span>pull=<span class="token number">4</span><span class="token punctuation">,</span>ffmpeg_pull=<span class="token number">5</span><span class="token punctuation">,</span>mp4_vod=<span class="token number">6</span><span class="token punctuation">,</span>device_chn=<span class="token number">7</span>
     <span class="token property">&quot;originTypeStr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MediaOriginType::rtmp_push&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;originUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rtmp://127.0.0.1:1935/live/hks2&quot;</span><span class="token punctuation">,</span> #产生源的url
     <span class="token property">&quot;createStamp&quot;</span><span class="token operator">:</span> <span class="token number">1602205811</span><span class="token punctuation">,</span> #GMT unix系统时间戳，单位秒
     <span class="token property">&quot;aliveSecond&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> #存活时间，单位秒
     <span class="token property">&quot;bytesSpeed&quot;</span><span class="token operator">:</span> <span class="token number">12345</span><span class="token punctuation">,</span> #数据产生速度，单位byte/s
     <span class="token property">&quot;tracks&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>    # 音视频轨道
        <span class="token punctuation">{</span>
           <span class="token property">&quot;channels&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> # 音频通道数
           <span class="token property">&quot;codec_id&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> # H264 = <span class="token number">0</span><span class="token punctuation">,</span> H265 = <span class="token number">1</span><span class="token punctuation">,</span> AAC = <span class="token number">2</span><span class="token punctuation">,</span> G711A = <span class="token number">3</span><span class="token punctuation">,</span> G711U = <span class="token number">4</span>
           <span class="token property">&quot;codec_id_name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CodecAAC&quot;</span><span class="token punctuation">,</span> # 编码类型名称
           <span class="token property">&quot;codec_type&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> # Video = <span class="token number">0</span><span class="token punctuation">,</span> Audio = <span class="token number">1</span>
           <span class="token property">&quot;ready&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> # 轨道是否准备就绪
           <span class="token property">&quot;frames&quot;</span> <span class="token operator">:</span> <span class="token number">1119</span><span class="token punctuation">,</span> #累计接收帧数
           <span class="token property">&quot;sample_bit&quot;</span> <span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> # 音频采样位数
           <span class="token property">&quot;sample_rate&quot;</span> <span class="token operator">:</span> <span class="token number">8000</span> # 音频采样率
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
           <span class="token property">&quot;codec_id&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # H264 = <span class="token number">0</span><span class="token punctuation">,</span> H265 = <span class="token number">1</span><span class="token punctuation">,</span> AAC = <span class="token number">2</span><span class="token punctuation">,</span> G711A = <span class="token number">3</span><span class="token punctuation">,</span> G711U = <span class="token number">4</span>
           <span class="token property">&quot;codec_id_name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CodecH264&quot;</span><span class="token punctuation">,</span> # 编码类型名称
           <span class="token property">&quot;codec_type&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # Video = <span class="token number">0</span><span class="token punctuation">,</span> Audio = <span class="token number">1</span>
           <span class="token property">&quot;fps&quot;</span> <span class="token operator">:</span> <span class="token number">59</span><span class="token punctuation">,</span>  # 视频fps
           <span class="token property">&quot;frames&quot;</span> <span class="token operator">:</span> <span class="token number">1119</span><span class="token punctuation">,</span> #累计接收帧数，不包含sei/aud/sps/pps等不能解码的帧
           <span class="token property">&quot;gop_interval_ms&quot;</span> <span class="token operator">:</span> <span class="token number">1993</span><span class="token punctuation">,</span> #gop间隔时间，单位毫秒
           <span class="token property">&quot;gop_size&quot;</span> <span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span> #gop大小，单位帧数
           <span class="token property">&quot;key_frames&quot;</span> <span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">,</span> #累计接收关键帧数
           <span class="token property">&quot;height&quot;</span> <span class="token operator">:</span> <span class="token number">720</span><span class="token punctuation">,</span> # 视频高
           <span class="token property">&quot;ready&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  # 轨道是否准备就绪
           <span class="token property">&quot;width&quot;</span> <span class="token operator">:</span> <span class="token number">1280</span> # 视频宽
        <span class="token punctuation">}</span>
     <span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token property">&quot;vhost&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;__defaultVhost__&quot;</span> # 虚拟主机名
   <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_7、-index-api-close-stream-已过期-请使用-close-streams-接口替换" tabindex="-1"><a class="header-anchor" href="#_7、-index-api-close-stream-已过期-请使用-close-streams-接口替换" aria-hidden="true">#</a> 7、<code>/index/api/close_stream</code>(已过期，请使用 close_streams 接口替换)</h3><ul><li><p>功能：关闭流(目前所有类型的流都支持关闭)</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/close_stream?schema=rtmp&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=0&amp;force=1" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/close_stream?schema=rtmp&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=0&amp;force=1<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">Y</td><td style="text-align:center;">协议，例如 rtsp 或 rtmp</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">虚拟主机，例如<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">应用名，例如 live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">流 id，例如 test</td></tr><tr><td style="text-align:center;">force</td><td style="text-align:center;">N</td><td style="text-align:center;">是否强制关闭(有人在观看是否还关闭)</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;result&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span># <span class="token number">0</span><span class="token operator">:</span>成功，<span class="token number">-1</span><span class="token operator">:</span>关闭失败，<span class="token number">-2</span><span class="token operator">:</span>该流不存在
   <span class="token property">&quot;msg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;success&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_8、-index-api-close-streams" tabindex="-1"><a class="header-anchor" href="#_8、-index-api-close-streams" aria-hidden="true">#</a> 8、<code>/index/api/close_streams</code></h3><ul><li><p>功能：关闭流(目前所有类型的流都支持关闭)</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/close_streams?schema=rtmp&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=0&amp;force=1" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/close_streams?schema=rtmp&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=0&amp;force=1<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">N</td><td style="text-align:center;">协议，例如 rtsp 或 rtmp</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">N</td><td style="text-align:center;">虚拟主机，例如<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">N</td><td style="text-align:center;">应用名，例如 live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">N</td><td style="text-align:center;">流 id，例如 test</td></tr><tr><td style="text-align:center;">force</td><td style="text-align:center;">N</td><td style="text-align:center;">是否强制关闭(有人在观看是否还关闭)</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;count_hit&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  # 筛选命中的流个数
   <span class="token property">&quot;count_closed&quot;</span> <span class="token operator">:</span> <span class="token number">1</span> # 被关闭的流个数，可能小于count_hit
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_9、-index-api-getallsession" tabindex="-1"><a class="header-anchor" href="#_9、-index-api-getallsession" aria-hidden="true">#</a> 9、<code>/index/api/getAllSession</code></h3><ul><li><p>功能：获取所有 TcpSession 列表(获取所有 tcp 客户端相关信息)</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/getAllSession" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getAllSession<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">local_port</td><td style="text-align:center;">N</td><td style="text-align:center;">筛选本机端口，例如筛选 rtsp 链接：554</td></tr><tr><td style="text-align:center;">peer_ip</td><td style="text-align:center;">N</td><td style="text-align:center;">筛选客户端 ip</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;140614477848784&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;local_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;local_port&quot;</span> <span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
         <span class="token property">&quot;peer_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;peer_port&quot;</span> <span class="token operator">:</span> <span class="token number">51136</span><span class="token punctuation">,</span>
         <span class="token property">&quot;typeid&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;16WebSocketSessionI11EchoSessionN8mediakit11HttpSessionEE&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;140614443300192&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;local_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;local_port&quot;</span> <span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
         <span class="token property">&quot;peer_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;peer_port&quot;</span> <span class="token operator">:</span> <span class="token number">51135</span><span class="token punctuation">,</span>
         <span class="token property">&quot;typeid&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;16WebSocketSessionI11EchoSessionN8mediakit11HttpSessionEE&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;140614440178720&quot;</span><span class="token punctuation">,</span>  # 该tcp链接唯一id
         <span class="token property">&quot;local_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>  # 本机网卡ip
         <span class="token property">&quot;local_port&quot;</span> <span class="token operator">:</span> <span class="token number">1935</span><span class="token punctuation">,</span> 			# 本机端口号	(这是个rtmp播放器或推流器)
         <span class="token property">&quot;peer_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>   # 客户端ip
         <span class="token property">&quot;peer_port&quot;</span> <span class="token operator">:</span> <span class="token number">51130</span><span class="token punctuation">,</span>				# 客户端端口号
         <span class="token property">&quot;typeid&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;N8mediakit11RtmpSessionE&quot;</span>  # 客户端TCPSession typeid
      <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_10、-index-api-kick-session" tabindex="-1"><a class="header-anchor" href="#_10、-index-api-kick-session" aria-hidden="true">#</a> 10、<code>/index/api/kick_session</code></h3><ul><li><p>功能：断开 tcp 连接，比如说可以断开 rtsp、rtmp 播放器等</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/kick_session?id=140614440178720" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/kick_session?id=140614440178720<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">Id</td><td style="text-align:center;">Y</td><td style="text-align:center;">客户端唯一 id，可以通过 getAllSession 接口获取</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_11、-index-api-kick-sessions" tabindex="-1"><a class="header-anchor" href="#_11、-index-api-kick-sessions" aria-hidden="true">#</a> 11、<code>/index/api/kick_sessions</code></h3><ul><li><p>功能：断开 tcp 连接，比如说可以断开 rtsp、rtmp 播放器等</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/kick_sessions?local_port=554" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/kick_sessions?local_port=554<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">local_port</td><td style="text-align:center;">N</td><td style="text-align:center;">筛选本机端口，例如筛选 rtsp 链接：554</td></tr><tr><td style="text-align:center;">peer_ip</td><td style="text-align:center;">N</td><td style="text-align:center;">筛选客户端 ip</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;count_hit&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span># 筛选命中客户端个数
   <span class="token property">&quot;msg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;success&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_12、-index-api-addstreamproxy" tabindex="-1"><a class="header-anchor" href="#_12、-index-api-addstreamproxy" aria-hidden="true">#</a> 12、<code>/index/api/addStreamProxy</code></h3><ul><li><p>功能：动态添加 rtsp/rtmp/hls/http-ts/http-flv 拉流代理(只支持 H264/H265/aac/G711/opus 负载)</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/addStreamProxy?vhost=__defaultVhost__&amp;app=proxy&amp;stream=0&amp;url=rtmp://live.hkstv.hk.lxdns.com/live/hks2" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/addStreamProxy?vhost=<code>__defaultVhost__</code>&amp;app=proxy&amp;stream=0&amp;url=rtmp://live.hkstv.hk.lxdns.com/live/hks2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">参数类型</th><th style="text-align:center;">释意</th><th style="text-align:center;">是否必选</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">api 操作密钥(配置文件配置)</td><td style="text-align:center;">Y</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">添加的流的虚拟主机，例如<code>__defaultVhost__</code></td><td style="text-align:center;">Y</td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">添加的流的应用名，例如 live</td><td style="text-align:center;">Y</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">添加的流的 id 名，例如 test</td><td style="text-align:center;">Y</td></tr><tr><td style="text-align:center;">url</td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">拉流地址，例如 rtmp://live.hkstv.hk.lxdns.com/live/hks2</td><td style="text-align:center;">Y</td></tr><tr><td style="text-align:center;">retry_count</td><td style="text-align:center;"><code>int</code></td><td style="text-align:center;">拉流重试次数，默认为-1 无限重试</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;">rtp_type</td><td style="text-align:center;"><code>int</code></td><td style="text-align:center;">rtsp 拉流时，拉流方式，0：tcp，1：udp，2：组播</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;">timeout_sec</td><td style="text-align:center;"><code>int</code></td><td style="text-align:center;">拉流超时时间，单位秒，float 类型</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_hls</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">是否转换成 hls-mpegts 协议</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_hls_fmp4</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">是否转换成 hls-fmp4 协议</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_mp4</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">是否允许 mp4 录制</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_rtsp</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">是否转 rtsp 协议</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_rtmp</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">是否转 rtmp/flv 协议</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_ts</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">是否转 http-ts/ws-ts 协议</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_fmp4</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">是否转 http-fmp4/ws-fmp4 协议</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>hls_demand</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">该协议是否有人观看才生成</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>rtsp_demand</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">该协议是否有人观看才生成</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>rtmp_demand</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">该协议是否有人观看才生成</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>ts_demand</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">该协议是否有人观看才生成</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>fmp4_demand</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">该协议是否有人观看才生成</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_audio</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">转协议时是否开启音频</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>add_mute_audio</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">转协议时，无音频是否添加静音 aac 音频</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>mp4_save_path</code></td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">mp4 录制文件保存根目录，置空使用默认</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>mp4_max_second</code></td><td style="text-align:center;"><code>int</code></td><td style="text-align:center;">mp4 录制切片大小，单位秒</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>mp4_as_player</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">MP4 录制是否当作观看者参与播放人数计数</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>hls_save_path</code></td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">hls 文件保存保存根目录，置空使用默认</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>modify_stamp</code></td><td style="text-align:center;"><code>int</code></td><td style="text-align:center;">该流是否开启时间戳覆盖(0:绝对时间戳/1:系统时间戳/2:相对时间戳)</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>auto_close</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">无人观看是否自动关闭流(不触发无人观看 hook)</td><td style="text-align:center;">N</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;key&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;__defaultVhost__/proxy/0&quot;</span>  # 流的唯一标识
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_13、-index-api-delstreamproxy-流注册成功后-也可以使用close-streams接口替代" tabindex="-1"><a class="header-anchor" href="#_13、-index-api-delstreamproxy-流注册成功后-也可以使用close-streams接口替代" aria-hidden="true">#</a> 13、<code>/index/api/delStreamProxy(流注册成功后，也可以使用close_streams接口替代)</code></h3><ul><li><p>功能：关闭拉流代理</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/delStreamProxy?key=__defaultVhost__/proxy/0" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/delStreamProxy?key=<code>__defaultVhost__</code>/proxy/0<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">key</td><td style="text-align:center;">Y</td><td style="text-align:center;">addStreamProxy 接口返回的 key</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;flag&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # 成功与否
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_14、-index-api-addffmpegsource" tabindex="-1"><a class="header-anchor" href="#_14、-index-api-addffmpegsource" aria-hidden="true">#</a> 14、<code>/index/api/addFFmpegSource</code></h3><ul><li><p>功能：通过 fork FFmpeg 进程的方式拉流代理，支持任意协议</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/addFFmpegSource?src_url=http://live.hkstv.hk.lxdns.com/live/hks2/playlist.m3u8&amp;dst_url=rtmp://127.0.0.1/live/hks2&amp;timeout_ms=10000&amp;ffmpeg_cmd_key=ffmpeg.cmd" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/addFFmpegSource?src_url=http://live.hkstv.hk.lxdns.com/live/hks2/playlist.m3u8&amp;dst_url=rtmp://127.0.0.1/live/hks2&amp;timeout_ms=10000&amp;ffmpeg_cmd_key=ffmpeg.cmd<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">src_url</td><td style="text-align:center;">Y</td><td style="text-align:center;">FFmpeg 拉流地址,支持任意协议或格式(只要 FFmpeg 支持即可)</td></tr><tr><td style="text-align:center;">dst_url</td><td style="text-align:center;">Y</td><td style="text-align:center;">FFmpeg rtmp 推流地址，一般都是推给自己，例如 rtmp://127.0.0.1/live/stream_form_ffmpeg</td></tr><tr><td style="text-align:center;">timeout_ms</td><td style="text-align:center;">Y</td><td style="text-align:center;">FFmpeg 推流成功超时时间</td></tr><tr><td style="text-align:center;">enable_hls</td><td style="text-align:center;">Y</td><td style="text-align:center;">是否开启 hls 录制</td></tr><tr><td style="text-align:center;">enable_mp4</td><td style="text-align:center;">Y</td><td style="text-align:center;">是否开启 mp4 录制</td></tr><tr><td style="text-align:center;">ffmpeg_cmd_key</td><td style="text-align:center;">N</td><td style="text-align:center;">配置文件中 FFmpeg 命令参数模板 key(非内容)，置空则采用默认模板:<code>ffmpeg.cmd</code></td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;key&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;5f748d2ef9712e4b2f6f970c1d44d93a&quot;</span>  # 唯一key
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_15、-index-api-delffmpegsource-流注册成功后-也可以使用close-streams接口替代" tabindex="-1"><a class="header-anchor" href="#_15、-index-api-delffmpegsource-流注册成功后-也可以使用close-streams接口替代" aria-hidden="true">#</a> 15、<code>/index/api/delFFmpegSource(流注册成功后，也可以使用close_streams接口替代)</code></h3><ul><li><p>功能：关闭 ffmpeg 拉流代理</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/delFFmpegSource?key=5f748d2ef9712e4b2f6f970c1d44d93a" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/delFFmpegSource?key=5f748d2ef9712e4b2f6f970c1d44d93a<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">key</td><td style="text-align:center;">Y</td><td style="text-align:center;">addFFmpegSource 接口返回的 key</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;flag&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # 成功与否
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_16、-index-api-ismediaonline-已过期-请使用getmedialist接口替代" tabindex="-1"><a class="header-anchor" href="#_16、-index-api-ismediaonline-已过期-请使用getmedialist接口替代" aria-hidden="true">#</a> 16、<code>/index/api/isMediaOnline(已过期，请使用getMediaList接口替代)</code></h3><ul><li><p>功能：判断直播流是否在线</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/isMediaOnline?schema=rtsp&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=obs" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/isMediaOnline?schema=rtsp&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=obs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">Y</td><td style="text-align:center;">协议，例如 rtsp 或 rtmp</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">虚拟主机，例如<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">应用名，例如 live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">流 id，例如 obs</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;online&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # 是否在线
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_17、-index-api-getmediainfo-已过期-请使用getmedialist接口替代" tabindex="-1"><a class="header-anchor" href="#_17、-index-api-getmediainfo-已过期-请使用getmedialist接口替代" aria-hidden="true">#</a> 17、<code>/index/api/getMediaInfo(已过期，请使用getMediaList接口替代)</code></h3><ul><li><p>功能：获取流相关信息</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/getMediaInfo?schema=rtsp&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=obs" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getMediaInfo?schema=rtsp&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=obs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">Y</td><td style="text-align:center;">协议，例如 rtsp 或 rtmp</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">虚拟主机，例如<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">应用名，例如 live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">流 id，例如 obs</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;online&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> # 是否在线
  <span class="token property">&quot;readerCount&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # 本协议观看人数
  <span class="token property">&quot;totalReaderCount&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # 观看总人数，包括hls/rtsp/rtmp/http-flv/ws-flv
  <span class="token property">&quot;tracks&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> # 轨道列表
        <span class="token punctuation">{</span>
           <span class="token property">&quot;channels&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> # 音频通道数
           <span class="token property">&quot;codec_id&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> # H264 = <span class="token number">0</span><span class="token punctuation">,</span> H265 = <span class="token number">1</span><span class="token punctuation">,</span> AAC = <span class="token number">2</span><span class="token punctuation">,</span> G711A = <span class="token number">3</span><span class="token punctuation">,</span> G711U = <span class="token number">4</span>
           <span class="token property">&quot;codec_id_name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CodecAAC&quot;</span><span class="token punctuation">,</span> # 编码类型名称
           <span class="token property">&quot;codec_type&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> # Video = <span class="token number">0</span><span class="token punctuation">,</span> Audio = <span class="token number">1</span>
           <span class="token property">&quot;ready&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> # 轨道是否准备就绪
           <span class="token property">&quot;sample_bit&quot;</span> <span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> # 音频采样位数
           <span class="token property">&quot;sample_rate&quot;</span> <span class="token operator">:</span> <span class="token number">8000</span> # 音频采样率
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
           <span class="token property">&quot;codec_id&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # H264 = <span class="token number">0</span><span class="token punctuation">,</span> H265 = <span class="token number">1</span><span class="token punctuation">,</span> AAC = <span class="token number">2</span><span class="token punctuation">,</span> G711A = <span class="token number">3</span><span class="token punctuation">,</span> G711U = <span class="token number">4</span>
           <span class="token property">&quot;codec_id_name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CodecH264&quot;</span><span class="token punctuation">,</span> # 编码类型名称
           <span class="token property">&quot;codec_type&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # Video = <span class="token number">0</span><span class="token punctuation">,</span> Audio = <span class="token number">1</span>
           <span class="token property">&quot;fps&quot;</span> <span class="token operator">:</span> <span class="token number">59</span><span class="token punctuation">,</span>  # 视频fps
           <span class="token property">&quot;height&quot;</span> <span class="token operator">:</span> <span class="token number">720</span><span class="token punctuation">,</span> # 视频高
           <span class="token property">&quot;ready&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  # 轨道是否准备就绪
           <span class="token property">&quot;width&quot;</span> <span class="token operator">:</span> <span class="token number">1280</span> # 视频宽
        <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_18、-index-api-getrtpinfo" tabindex="-1"><a class="header-anchor" href="#_18、-index-api-getrtpinfo" aria-hidden="true">#</a> 18、<code>/index/api/getRtpInfo</code></h3><ul><li><p>功能：获取 rtp 代理时的某路 ssrc rtp 信息</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/getRtpInfo?ssrc=1A2B3C4D" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getRtpInfo?stream_id=1A2B3C4D<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">stream_id</td><td style="text-align:center;">Y</td><td style="text-align:center;">RTP 的 ssrc，16 进制字符串或者是流的 id(openRtpServer 接口指定)</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;exist&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> # 是否存在
   <span class="token property">&quot;peer_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;192.168.0.23&quot;</span><span class="token punctuation">,</span> # 推流客户端ip
   <span class="token property">&quot;peer_port&quot;</span> <span class="token operator">:</span> <span class="token number">54000</span> # 客户端端口号
   <span class="token property">&quot;local_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0.0.0.0&quot;</span><span class="token punctuation">,</span> #本地监听的网卡ip
   <span class="token property">&quot;local_port&quot;</span> <span class="token operator">:</span> <span class="token number">10000</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_19、-index-api-getmp4recordfile" tabindex="-1"><a class="header-anchor" href="#_19、-index-api-getmp4recordfile" aria-hidden="true">#</a> 19、<code>/index/api/getMp4RecordFile</code></h3><ul><li><p>功能：搜索文件系统，获取流对应的录像文件列表或日期文件夹列表</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/getMp4RecordFile?vhost=__defaultVhost__&amp;app=live&amp;stream=ss&amp;period=2020-01" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getMp4RecordFile?vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=ss&amp;period=2020-01<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">流的虚拟主机名</td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">流的应用名</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">流的 ID</td></tr><tr><td style="text-align:center;">period</td><td style="text-align:center;">Y</td><td style="text-align:center;">流的录像日期，格式为 2020-02-01,如果不是完整的日期，那么是搜索录像文件夹列表，否则搜索对应日期下的 mp4 文件列表</td></tr><tr><td style="text-align:center;">customized_path</td><td style="text-align:center;">N</td><td style="text-align:center;">自定义搜索路径，与 startRecord 方法中的 customized_path 一样，默认为配置文件的路径</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code># 搜索文件夹列表(按照前缀匹配规则)：period = <span class="token number">2020</span><span class="token number">-01</span>
<span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;paths&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;2020-01-25&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2020-01-24&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rootPath&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;/www/record/live/ss/&quot;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

# 搜索mp4文件列表：period = <span class="token number">2020</span><span class="token number">-01</span><span class="token number">-24</span>
<span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;paths&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
         <span class="token string">&quot;22-20-30.mp4&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;22-13-12.mp4&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;21-57-07.mp4&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;21-19-18.mp4&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;21-24-21.mp4&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;21-15-10.mp4&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;22-14-14.mp4&quot;</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rootPath&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;/www/live/ss/2020-01-24/&quot;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_20、-index-api-startrecord" tabindex="-1"><a class="header-anchor" href="#_20、-index-api-startrecord" aria-hidden="true">#</a> 20、<code>/index/api/startRecord</code></h3><ul><li><p>功能：开始录制 hls 或 MP4</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/startRecord?type=1&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=obs" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/startRecord?type=1&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=obs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th><th>类型</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td><td>string</td></tr><tr><td style="text-align:center;">type</td><td style="text-align:center;">Y</td><td style="text-align:center;">0 为 hls，1 为 mp4</td><td>0/1</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">虚拟主机，例如<code>__defaultVhost__</code></td><td>string</td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">应用名，例如 live</td><td>string</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">流 id，例如 obs</td><td>string</td></tr><tr><td style="text-align:center;">customized_path</td><td style="text-align:center;">N</td><td style="text-align:center;">录像保存目录</td><td>string</td></tr><tr><td style="text-align:center;">max_second</td><td style="text-align:center;">N</td><td style="text-align:center;">mp4 录像切片时间大小,单位秒，置 0 则采用配置项</td><td>int</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;result&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # 成功与否
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_21、-index-api-stoprecord" tabindex="-1"><a class="header-anchor" href="#_21、-index-api-stoprecord" aria-hidden="true">#</a> 21、<code>/index/api/stopRecord</code></h3><ul><li><p>功能：停止录制流</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/stopRecord?type=1&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=obs" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/stopRecord?type=1&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=obs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">type</td><td style="text-align:center;">Y</td><td style="text-align:center;">0 为 hls，1 为 mp4</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">虚拟主机，例如<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">应用名，例如 live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">流 id，例如 obs</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;result&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # 成功与否
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_22、-index-api-isrecording" tabindex="-1"><a class="header-anchor" href="#_22、-index-api-isrecording" aria-hidden="true">#</a> 22、<code>/index/api/isRecording</code></h3><ul><li><p>功能：获取流录制状态</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/isRecording?type=1&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=obs" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/isRecording?type=1&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=obs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">type</td><td style="text-align:center;">Y</td><td style="text-align:center;">0 为 hls，1 为 mp4</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">虚拟主机，例如<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">应用名，例如 live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">流 id，例如 obs</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;status&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # <span class="token boolean">false</span><span class="token operator">:</span>未录制<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token operator">:</span>正在录制
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_23、-index-api-getsnap" tabindex="-1"><a class="header-anchor" href="#_23、-index-api-getsnap" aria-hidden="true">#</a> 23、<code>/index/api/getSnap</code></h3><ul><li><p>功能：获取截图或生成实时截图并返回</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/getSnap?url=rtmp://127.0.0.1/record/robot.mp4&amp;timeout_sec=10&amp;expire_sec=30" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getSnap?url=rtmp://127.0.0.1/record/robot.mp4&amp;timeout_sec=10&amp;expire_sec=30<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">url</td><td style="text-align:center;">Y</td><td style="text-align:center;">需要截图的 url，可以是本机的，也可以是远程主机的</td></tr><tr><td style="text-align:center;">timeout_sec</td><td style="text-align:center;">Y</td><td style="text-align:center;">截图失败超时时间，防止 FFmpeg 一直等待截图</td></tr><tr><td style="text-align:center;">expire_sec</td><td style="text-align:center;">Y</td><td style="text-align:center;">截图的过期时间，该时间内产生的截图都会作为缓存返回</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code>jpeg格式的图片，可以在浏览器直接打开
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h3 id="_24、-index-api-openrtpserver" tabindex="-1"><a class="header-anchor" href="#_24、-index-api-openrtpserver" aria-hidden="true">#</a> 24、<code>/index/api/openRtpServer</code></h3><ul><li><p>功能：创建 GB28181 RTP 接收端口，如果该端口接收数据超时，则会自动被回收(不用调用 closeRtpServer 接口)</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/openRtpServer?port=0&amp;tcp_mode=1&amp;stream_id=test" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/openRtpServer?port=0&amp;tcp_mode=1&amp;stream_id=test<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">port</td><td style="text-align:center;">Y</td><td style="text-align:center;">接收端口，0 则为随机端口</td></tr><tr><td style="text-align:center;">tcp_mode</td><td style="text-align:center;">Y</td><td style="text-align:center;">0 udp 模式，1 tcp 被动模式, 2 tcp 主动模式。 (兼容 enable_tcp 为 0/1)</td></tr><tr><td style="text-align:center;">stream_id</td><td style="text-align:center;">Y</td><td style="text-align:center;">该端口绑定的流 ID，该端口只能创建这一个流(而不是根据 ssrc 创建多个)</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;port&quot;</span> <span class="token operator">:</span> <span class="token number">55463</span> #接收端口，方便获取随机端口号
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_25、-index-api-closertpserver" tabindex="-1"><a class="header-anchor" href="#_25、-index-api-closertpserver" aria-hidden="true">#</a> 25、<code>/index/api/closeRtpServer</code></h3><ul><li><p>功能：关闭 GB28181 RTP 接收端口</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/closeRtpServer?stream_id=test" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/closeRtpServer?stream_id=test<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">stream_id</td><td style="text-align:center;">Y</td><td style="text-align:center;">调用 openRtpServer 接口时提供的流 ID</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;hit&quot;</span><span class="token operator">:</span> <span class="token number">1</span> #是否找到记录并关闭
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_26、-index-api-listrtpserver" tabindex="-1"><a class="header-anchor" href="#_26、-index-api-listrtpserver" aria-hidden="true">#</a> 26、<code>/index/api/listRtpServer</code></h3><ul><li><p>功能：获取 openRtpServer 接口创建的所有 RTP 服务器</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/listRtpServer" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/listRtpServer<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;port&quot;</span> <span class="token operator">:</span> <span class="token number">52183</span><span class="token punctuation">,</span> #绑定的端口号
         <span class="token property">&quot;stream_id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;test&quot;</span> #绑定的流ID
      <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_27、-index-api-startsendrtp" tabindex="-1"><a class="header-anchor" href="#_27、-index-api-startsendrtp" aria-hidden="true">#</a> 27、<code>/index/api/startSendRtp</code></h3><ul><li><p>功能：作为 GB28181 客户端，启动 ps-rtp 推流，支持 rtp/udp 方式；该接口支持 rtsp/rtmp 等协议转 ps-rtp 推流。第一次推流失败会直接返回错误，成功一次后，后续失败也将无限重试。</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/startSendRtp?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=test&amp;ssrc=1&amp;dst_url=127.0.0.1&amp;dst_port=10000&amp;is_udp=0" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/startSendRtp?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=test&amp;ssrc=1&amp;dst_url=127.0.0.1&amp;dst_port=10000&amp;is_udp=0<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">虚拟主机，例如<strong>defaultVhost</strong></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">应用名，例如 live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">流 id，例如 test</td></tr><tr><td style="text-align:center;">ssrc</td><td style="text-align:center;">Y</td><td style="text-align:center;">推流的 rtp 的 ssrc,指定不同的 ssrc 可以同时推流到多个服务器</td></tr><tr><td style="text-align:center;">dst_url</td><td style="text-align:center;">Y</td><td style="text-align:center;">目标 ip 或域名</td></tr><tr><td style="text-align:center;">dst_port</td><td style="text-align:center;">Y</td><td style="text-align:center;">目标端口</td></tr><tr><td style="text-align:center;">is_udp</td><td style="text-align:center;">Y</td><td style="text-align:center;">是否为 udp 模式,否则为 tcp 模式</td></tr><tr><td style="text-align:center;">src_port</td><td style="text-align:center;">N</td><td style="text-align:center;">使用的本机端口，为 0 或不传时默认为随机端口</td></tr><tr><td style="text-align:center;">pt</td><td style="text-align:center;">N</td><td style="text-align:center;">发送时，rtp 的 pt（uint8_t）,不传时默认为 96</td></tr><tr><td style="text-align:center;">use_ps</td><td style="text-align:center;">N</td><td style="text-align:center;">发送时，rtp 的负载类型。为 1 时，负载为 ps；为 0 时，为 es；不传时默认为 1</td></tr><tr><td style="text-align:center;">only_audio</td><td style="text-align:center;">N</td><td style="text-align:center;">当 use_ps 为 0 时，有效。为 1 时，发送音频；为 0 时，发送视频；不传时默认为 0</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> #成功
   <span class="token property">&quot;local_port&quot;</span><span class="token operator">:</span> <span class="token number">57152</span> #使用的本地端口号
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_27-1-、-index-api-startsendrtppassive" tabindex="-1"><a class="header-anchor" href="#_27-1-、-index-api-startsendrtppassive" aria-hidden="true">#</a> 27.1 、<code>/index/api/startSendRtpPassive</code></h4><ul><li><p>功能：作为 GB28181 Passive TCP 服务器；该接口支持 rtsp/rtmp 等协议转 ps-rtp 被动推流。调用该接口，zlm 会启动 tcp 服务器等待连接请求，连接建立后，zlm 会关闭 tcp 服务器，然后源源不断的往客户端推流。第一次推流失败会直接返回错误，成功一次后，后续失败也将无限重试(不停地建立 tcp 监听，超时后再关闭)。</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/startSendRtpPassive?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=test&amp;ssrc=1" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/startSendRtpPassive?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=test&amp;ssrc=1<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">虚拟主机，例如<strong>defaultVhost</strong></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">应用名，例如 live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">流 id，例如 test</td></tr><tr><td style="text-align:center;">ssrc</td><td style="text-align:center;">Y</td><td style="text-align:center;">推流的 rtp 的 ssrc,指定不同的 ssrc 可以同时推流到多个服务器</td></tr><tr><td style="text-align:center;">src_port</td><td style="text-align:center;">N</td><td style="text-align:center;">使用的本机端口，为 0 或不传时默认为随机端口</td></tr><tr><td style="text-align:center;">pt</td><td style="text-align:center;">N</td><td style="text-align:center;">发送时，rtp 的 pt（uint8_t）,不传时默认为 96</td></tr><tr><td style="text-align:center;">use_ps</td><td style="text-align:center;">N</td><td style="text-align:center;">发送时，rtp 的负载类型。为 1 时，负载为 ps；为 0 时，为 es；不传时默认为 1</td></tr><tr><td style="text-align:center;">only_audio</td><td style="text-align:center;">N</td><td style="text-align:center;">当 use_ps 为 0 时，有效。为 1 时，发送音频；为 0 时，发送视频；不传时默认为 0</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> #成功
   <span class="token property">&quot;local_port&quot;</span><span class="token operator">:</span> <span class="token number">57152</span> #使用的本地端口号
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_28、-index-api-stopsendrtp" tabindex="-1"><a class="header-anchor" href="#_28、-index-api-stopsendrtp" aria-hidden="true">#</a> 28、<code>/index/api/stopSendRtp</code></h3><ul><li><p>功能：停止 GB28181 ps-rtp 推流</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/stopSendRtp?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=test" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/stopSendRtp?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=test<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">虚拟主机，例如<strong>defaultVhost</strong></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">应用名，例如 live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">流 id，例如 test</td></tr><tr><td style="text-align:center;">ssrc</td><td style="text-align:center;">N</td><td style="text-align:center;">根据 ssrc 关停某路 rtp 推流，置空时关闭所有流</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span> #成功
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_29、-index-api-getstatistic" tabindex="-1"><a class="header-anchor" href="#_29、-index-api-getstatistic" aria-hidden="true">#</a> 29、<code>/index/api/getStatistic</code></h3><ul><li><p>功能：获取主要对象个数统计，主要用于分析内存性能</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/getStatistic?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getStatistic?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Buffer&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;BufferLikeString&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;BufferList&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;BufferRaw&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Frame&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;FrameImp&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;MediaSource&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;MultiMediaSourceMuxer&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Socket&quot;</span><span class="token operator">:</span> <span class="token number">66</span><span class="token punctuation">,</span>
    <span class="token property">&quot;TcpClient&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;TcpServer&quot;</span><span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>
    <span class="token property">&quot;TcpSession&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_30、-index-api-addstreampusherproxy" tabindex="-1"><a class="header-anchor" href="#_30、-index-api-addstreampusherproxy" aria-hidden="true">#</a> 30、<code>/index/api/addStreamPusherProxy</code></h3><ul><li><p>功能：添加 rtsp/rtmp 主动推流(把本服务器的直播流推送到其他服务器去)</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/addStreamProxy?vhost=%60__defaultVhost__%60&amp;app=proxy&amp;stream=test&amp;dst_url=rtmp://127.0.0.1/live/test2" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/addStreamPusherProxy?vhost=<code>__defaultVhost__</code>&amp;app=proxy&amp;stream=test&amp;dst_url=rtmp://127.0.0.1/live/test2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">添加的流的虚拟主机，例如<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">Y</td><td style="text-align:center;">协议，例如 rtsp 或 rtmp</td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">添加的流的应用名，例如 live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">需要转推的流 id</td></tr><tr><td style="text-align:center;">dst_url</td><td style="text-align:center;">Y</td><td style="text-align:center;">目标转推 url，带参数需要自行 url 转义</td></tr><tr><td style="text-align:center;">retry_count</td><td style="text-align:center;">N</td><td style="text-align:center;">转推失败重试次数，默认无限重试</td></tr><tr><td style="text-align:center;">rtp_type</td><td style="text-align:center;">N</td><td style="text-align:center;">rtsp 推流时，推流方式，0：tcp，1：udp</td></tr><tr><td style="text-align:center;">timeout_sec</td><td style="text-align:center;">N</td><td style="text-align:center;">推流超时时间，单位秒，float 类型</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;key&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;rtmp/__defaultVhost__/proxy/test/4AB43C9EABEB76AB443BB8260C8B2D12&quot;</span>  # 流的唯一标识
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_31、-index-api-delstreampusherproxy-可以使用close-streams接口关闭源直播流也可以停止推流" tabindex="-1"><a class="header-anchor" href="#_31、-index-api-delstreampusherproxy-可以使用close-streams接口关闭源直播流也可以停止推流" aria-hidden="true">#</a> 31、<code>/index/api/delStreamPusherProxy(可以使用close_streams接口关闭源直播流也可以停止推流)</code></h3><ul><li><p>功能：关闭推流</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/delStreamPusherProxy?key=rtmp/__defaultVhost__/proxy/test/4AB43C9EABEB76AB443BB8260C8B2D12" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/delStreamPusherProxy?key=rtmp/<strong>defaultVhost</strong>/proxy/test/4AB43C9EABEB76AB443BB8260C8B2D12<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">key</td><td style="text-align:center;">Y</td><td style="text-align:center;">addStreamPusherProxy 接口返回的 key</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;flag&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # 成功与否
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_32、-index-api-version-获取版本信息" tabindex="-1"><a class="header-anchor" href="#_32、-index-api-version-获取版本信息" aria-hidden="true">#</a> 32、<code>/index/api/version(获取版本信息)</code></h3><ul><li><p>功能：获取版本信息，如分支，commit id, 编译时间</p></li><li><p>范例：<a href="http://127.0.0.1/index/api/version" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/version<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr></tbody></table></li><li><p>响应：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;branchName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;master&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;buildTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-04-19T10:34:34&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;commitHash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;f143898&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_33、-index-api-getmediaplayerlist" tabindex="-1"><a class="header-anchor" href="#_33、-index-api-getmediaplayerlist" aria-hidden="true">#</a> 33、<code>/index/api/getMediaPlayerList</code></h3><ul><li><p>功能：获取某个流观看者列表</p></li><li><p>范例：<a href="http://127.0.0.1:8080/index/api/getMediaPlayerList?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;schema=rtsp&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=test&#39;" target="_blank" rel="noopener noreferrer">http://127.0.0.1:8080/index/api/getMediaPlayerList?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;schema=rtsp&amp;vhost=<strong>defaultVhost</strong>&amp;app=live&amp;stream=test&#39;<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>参数：</p><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">是否必选</th><th style="text-align:center;">释意</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api 操作密钥(配置文件配置)</td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">Y</td><td style="text-align:center;">协议，例如 rtsp 或 rtmp</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">虚拟主机，例如<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">应用名，例如 live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">流 id，例如 obs</td></tr></tbody></table></li><li><p>响应：</p></li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;identifier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3-309&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;local_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;::&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;local_port&quot;</span><span class="token operator">:</span> <span class="token number">8000</span><span class="token punctuation">,</span>
      <span class="token property">&quot;peer_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;172.18.190.159&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;peer_port&quot;</span><span class="token operator">:</span> <span class="token number">52996</span><span class="token punctuation">,</span>
      <span class="token property">&quot;typeid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mediakit::WebRtcSession&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/ZLMediaKit/docs/edit/main/src/zh/guide/media_server/restful_api.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: liyu7352@gmail.com">Alex</span>,<!--]--><!--[--><span class="contributor" title="email: mister-hope@outlook.com">Mr.Hope</span>,<!--]--><!--[--><span class="contributor" title="email: NikolaDi@users.noreply.github.com">NikolaDi</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><!----><a aria-label="Web Hook 接口" class="vp-link nav-link next nav-link next" href="/zh/guide/media_server/web_hook_api.html"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">Web Hook 接口<!----></div></a></nav><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">MIT Licensed</div><div class="vp-copyright">Copyright © 2024 ZLMediaKit</div></footer></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-CF_X8wgR.js" defer></script>
  </body>
</html>
