<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.0" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.4" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="alternate" hreflang="en-us" href="https://docs.ZLMediaKit.com/guide/media_server/restful_api.html"><meta property="og:url" content="https://docs.ZLMediaKit.com/zh/guide/media_server/restful_api.html"><meta property="og:site_name" content="ZLMediaKit"><meta property="og:title" content="RESTful æ¥å£"><meta property="og:description" content="ä¸‹è½½ postman é…ç½®æ–‡ä»¶(å¯ä»¥åœ¨çº¿æµ‹è¯• restful api) postman é…ç½®æ–‡ä»¶ (https://github.com/xia-chu/ZLMediaKit/tree/master/postman) ç”±äºæ¥å£æ›´æ–°é¢‘ç¹ï¼Œåœ¨è§‚çœ‹æœ¬æ–‡æ¡£çš„åŒæ—¶ï¼Œè¯·å¤§å®¶å†ä½¿ç”¨ postman æ ¸å¯¹æµ‹è¯•æ¥å£ï¼ŒåŒæ—¶æœ¬æ–‡æ¡£å¯èƒ½æœ‰äº›æ¥å£æœ‰é—æ¼ï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒä»£ç  (ht..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:locale:alternate" content="en-US"><meta property="og:updated_time" content="2023-12-05T08:36:26.000Z"><meta property="article:author" content="ZLMediaKit"><meta property="article:modified_time" content="2023-12-05T08:36:26.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"RESTful æ¥å£","image":[""],"dateModified":"2023-12-05T08:36:26.000Z","author":[{"@type":"Person","name":"ZLMediaKit","url":"https://docs.ZLMediaKit.com"}]}</script><link rel="icon" href="/favicon.ico"><link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/assets/icon/apple-touch-icon-152x152.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>RESTful æ¥å£ | ZLMediaKit</title><meta name="description" content="ä¸‹è½½ postman é…ç½®æ–‡ä»¶(å¯ä»¥åœ¨çº¿æµ‹è¯• restful api) postman é…ç½®æ–‡ä»¶ (https://github.com/xia-chu/ZLMediaKit/tree/master/postman) ç”±äºæ¥å£æ›´æ–°é¢‘ç¹ï¼Œåœ¨è§‚çœ‹æœ¬æ–‡æ¡£çš„åŒæ—¶ï¼Œè¯·å¤§å®¶å†ä½¿ç”¨ postman æ ¸å¯¹æµ‹è¯•æ¥å£ï¼ŒåŒæ—¶æœ¬æ–‡æ¡£å¯èƒ½æœ‰äº›æ¥å£æœ‰é—æ¼ï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒä»£ç  (ht...">
    <link rel="preload" href="/assets/style-b4Lm5zJp.css" as="style"><link rel="stylesheet" href="/assets/style-b4Lm5zJp.css">
    <link rel="modulepreload" href="/assets/app-RP31lnfq.js"><link rel="modulepreload" href="/assets/restful_api.html-ooPhYVAr.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-x3n3nnut.js"><link rel="modulepreload" href="/assets/restful_api.html-Xx1SUrzX.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/zh/"><img class="vp-nav-logo" src="/logo.svg" alt="ZLMediaKit"><!----><span class="vp-site-name hide-in-pad">ZLMediaKit</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="é¦–é¡µ" class="vp-link nav-link nav-link" href="/zh/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="æŒ‡å—" class="vp-link nav-link active nav-link active" href="/zh/guide/"><span class="font-icon icon fa-fw fa-sm fas fa-terminal" style=""></span>æŒ‡å—<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="å¿«é€Ÿå¼€å§‹" class="vp-link nav-link nav-link" href="/zh/tutorial/"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>å¿«é€Ÿå¼€å§‹<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="å‚è€ƒ"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>å‚è€ƒ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="æµ‹è¯•" class="vp-link nav-link nav-link" href="/zh/reference/test.html"><span class="font-icon icon fa-fw fa-sm fas fa-vials" style=""></span>æµ‹è¯•<!----></a></li><li class="dropdown-item"><a aria-label="ç›¸å…³èµ„æº" class="vp-link nav-link nav-link" href="/zh/reference/resources.html"><span class="font-icon icon fa-fw fa-sm fas fa-font-awesome" style=""></span>ç›¸å…³èµ„æº<!----></a></li><li class="dropdown-item"><a aria-label="ç›¸å…³æ–‡æ¡£" class="vp-link nav-link nav-link" href="/zh/reference/documents.html"><span class="font-icon icon fa-fw fa-sm fas fa-file-code" style=""></span>ç›¸å…³æ–‡æ¡£<!----></a></li><li class="dropdown-item"><a aria-label="å¼€å‘æ—¥å¿—" class="vp-link nav-link nav-link" href="/zh/reference/development_log.html"><span class="font-icon icon fa-fw fa-sm fas fa-code-commit" style=""></span>å¼€å‘æ—¥å¿—<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="äº†è§£æ›´å¤š"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span>äº†è§£æ›´å¤š</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="åˆä½œé¡¹ç›®" class="vp-link nav-link nav-link" href="/zh/more/collaborative_projects.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>åˆä½œé¡¹ç›®<!----></a></li><li class="dropdown-item"><a aria-label="æˆæƒåè®®" class="vp-link nav-link nav-link" href="/zh/more/license.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>æˆæƒåè®®<!----></a></li><li class="dropdown-item"><a aria-label="è‡´è°¢" class="vp-link nav-link nav-link" href="/zh/more/thanks.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>è‡´è°¢<!----></a></li><li class="dropdown-item"><a aria-label="è”ç³»æˆ‘ä»¬" class="vp-link nav-link nav-link" href="/zh/more/contact.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>è”ç³»æˆ‘ä»¬<!----></a></li><li class="dropdown-item"><a aria-label="ä½¿ç”¨æ¡ˆä¾‹" class="vp-link nav-link nav-link" href="/zh/more/use_cases.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>ä½¿ç”¨æ¡ˆä¾‹<!----></a></li></ul></button></div></div></nav><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="é€‰æ‹©è¯­è¨€"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="English" class="vp-link nav-link nav-link" href="/guide/media_server/restful_api.html"><!---->English<!----></a></li><li class="dropdown-item"><a aria-label="ç®€ä½“ä¸­æ–‡" class="vp-link nav-link active nav-link active" href="/zh/guide/media_server/restful_api.html"><!---->ç®€ä½“ä¸­æ–‡<!----></a></li></ul></button></div></div><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/ZLMediaKit/ZLMediaKit" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a aria-label="é¦–é¡µ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>é¦–é¡µ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="å¿«é€Ÿå¼€å§‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/tutorial/"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>å¿«é€Ÿå¼€å§‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading active"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">æŒ‡å—</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="æŒ‡å—" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/"><span class="font-icon icon fa-fw fa-sm fas fa-terminal" style=""></span>æŒ‡å—<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-gears" style=""></span><span class="vp-sidebar-title">Media Server</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="RESTful æ¥å£" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/zh/guide/media_server/restful_api.html"><!---->RESTful æ¥å£<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="ä¸‹è½½ postman é…ç½®æ–‡ä»¶(å¯ä»¥åœ¨çº¿æµ‹è¯• restful api)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#ä¸‹è½½-postman-é…ç½®æ–‡ä»¶-å¯ä»¥åœ¨çº¿æµ‹è¯•-restful-api"><!---->ä¸‹è½½ postman é…ç½®æ–‡ä»¶(å¯ä»¥åœ¨çº¿æµ‹è¯• restful api)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="API é¢„è§ˆ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#api-é¢„è§ˆ"><!---->API é¢„è§ˆ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="API è¿”å›ç»“æœçº¦å®š" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#api-è¿”å›ç»“æœçº¦å®š"><!---->API è¿”å›ç»“æœçº¦å®š<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="API è¯¦è§£" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#api-è¯¦è§£"><!---->API è¯¦è§£<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="0ã€/index/api/getApiList" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_0ã€-index-api-getapilist"><!---->0ã€/index/api/getApiList<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1ã€/index/api/getThreadsLoad" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_1ã€-index-api-getthreadsload"><!---->1ã€/index/api/getThreadsLoad<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2ã€/index/api/getWorkThreadsLoad" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_2ã€-index-api-getworkthreadsload"><!---->2ã€/index/api/getWorkThreadsLoad<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="3ã€/index/api/getServerConfig" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_3ã€-index-api-getserverconfig"><!---->3ã€/index/api/getServerConfig<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="4ã€/index/api/setServerConfig" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_4ã€-index-api-setserverconfig"><!---->4ã€/index/api/setServerConfig<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="5ã€/index/api/restartServer" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_5ã€-index-api-restartserver"><!---->5ã€/index/api/restartServer<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="6ã€/index/api/getMediaList" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_6ã€-index-api-getmedialist"><!---->6ã€/index/api/getMediaList<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="7ã€/index/api/close_stream(å·²è¿‡æœŸï¼Œè¯·ä½¿ç”¨ close_streams æ¥å£æ›¿æ¢)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_7ã€-index-api-close-stream-å·²è¿‡æœŸ-è¯·ä½¿ç”¨-close-streams-æ¥å£æ›¿æ¢"><!---->7ã€/index/api/close_stream(å·²è¿‡æœŸï¼Œè¯·ä½¿ç”¨ close_streams æ¥å£æ›¿æ¢)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="8ã€/index/api/close_streams" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_8ã€-index-api-close-streams"><!---->8ã€/index/api/close_streams<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="9ã€/index/api/getAllSession" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_9ã€-index-api-getallsession"><!---->9ã€/index/api/getAllSession<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="10ã€/index/api/kick_session" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_10ã€-index-api-kick-session"><!---->10ã€/index/api/kick_session<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="11ã€/index/api/kick_sessions" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_11ã€-index-api-kick-sessions"><!---->11ã€/index/api/kick_sessions<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="12ã€/index/api/addStreamProxy" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_12ã€-index-api-addstreamproxy"><!---->12ã€/index/api/addStreamProxy<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="13ã€/index/api/delStreamProxy(æµæ³¨å†ŒæˆåŠŸåï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨close_streamsæ¥å£æ›¿ä»£)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_13ã€-index-api-delstreamproxy-æµæ³¨å†ŒæˆåŠŸå-ä¹Ÿå¯ä»¥ä½¿ç”¨close-streamsæ¥å£æ›¿ä»£"><!---->13ã€/index/api/delStreamProxy(æµæ³¨å†ŒæˆåŠŸåï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨close_streamsæ¥å£æ›¿ä»£)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="14ã€/index/api/addFFmpegSource" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_14ã€-index-api-addffmpegsource"><!---->14ã€/index/api/addFFmpegSource<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="15ã€/index/api/delFFmpegSource(æµæ³¨å†ŒæˆåŠŸåï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨close_streamsæ¥å£æ›¿ä»£)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_15ã€-index-api-delffmpegsource-æµæ³¨å†ŒæˆåŠŸå-ä¹Ÿå¯ä»¥ä½¿ç”¨close-streamsæ¥å£æ›¿ä»£"><!---->15ã€/index/api/delFFmpegSource(æµæ³¨å†ŒæˆåŠŸåï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨close_streamsæ¥å£æ›¿ä»£)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="16ã€/index/api/isMediaOnline(å·²è¿‡æœŸï¼Œè¯·ä½¿ç”¨getMediaListæ¥å£æ›¿ä»£)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_16ã€-index-api-ismediaonline-å·²è¿‡æœŸ-è¯·ä½¿ç”¨getmedialistæ¥å£æ›¿ä»£"><!---->16ã€/index/api/isMediaOnline(å·²è¿‡æœŸï¼Œè¯·ä½¿ç”¨getMediaListæ¥å£æ›¿ä»£)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="17ã€/index/api/getMediaInfo(å·²è¿‡æœŸï¼Œè¯·ä½¿ç”¨getMediaListæ¥å£æ›¿ä»£)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_17ã€-index-api-getmediainfo-å·²è¿‡æœŸ-è¯·ä½¿ç”¨getmedialistæ¥å£æ›¿ä»£"><!---->17ã€/index/api/getMediaInfo(å·²è¿‡æœŸï¼Œè¯·ä½¿ç”¨getMediaListæ¥å£æ›¿ä»£)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="18ã€/index/api/getRtpInfo" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_18ã€-index-api-getrtpinfo"><!---->18ã€/index/api/getRtpInfo<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="19ã€/index/api/getMp4RecordFile" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_19ã€-index-api-getmp4recordfile"><!---->19ã€/index/api/getMp4RecordFile<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="20ã€/index/api/startRecord" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_20ã€-index-api-startrecord"><!---->20ã€/index/api/startRecord<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="21ã€/index/api/stopRecord" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_21ã€-index-api-stoprecord"><!---->21ã€/index/api/stopRecord<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="22ã€/index/api/isRecording" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_22ã€-index-api-isrecording"><!---->22ã€/index/api/isRecording<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="23ã€/index/api/getSnap" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_23ã€-index-api-getsnap"><!---->23ã€/index/api/getSnap<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="24ã€/index/api/openRtpServer" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_24ã€-index-api-openrtpserver"><!---->24ã€/index/api/openRtpServer<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="25ã€/index/api/closeRtpServer" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_25ã€-index-api-closertpserver"><!---->25ã€/index/api/closeRtpServer<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="26ã€/index/api/listRtpServer" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_26ã€-index-api-listrtpserver"><!---->26ã€/index/api/listRtpServer<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="27ã€/index/api/startSendRtp" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_27ã€-index-api-startsendrtp"><!---->27ã€/index/api/startSendRtp<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="28ã€/index/api/stopSendRtp" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_28ã€-index-api-stopsendrtp"><!---->28ã€/index/api/stopSendRtp<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="29ã€/index/api/getStatistic" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_29ã€-index-api-getstatistic"><!---->29ã€/index/api/getStatistic<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="30ã€/index/api/addStreamPusherProxy" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_30ã€-index-api-addstreampusherproxy"><!---->30ã€/index/api/addStreamPusherProxy<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="31ã€/index/api/delStreamPusherProxy(å¯ä»¥ä½¿ç”¨close_streamsæ¥å£å…³é—­æºç›´æ’­æµä¹Ÿå¯ä»¥åœæ­¢æ¨æµ)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_31ã€-index-api-delstreampusherproxy-å¯ä»¥ä½¿ç”¨close-streamsæ¥å£å…³é—­æºç›´æ’­æµä¹Ÿå¯ä»¥åœæ­¢æ¨æµ"><!---->31ã€/index/api/delStreamPusherProxy(å¯ä»¥ä½¿ç”¨close_streamsæ¥å£å…³é—­æºç›´æ’­æµä¹Ÿå¯ä»¥åœæ­¢æ¨æµ)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="32ã€/index/api/version(è·å–ç‰ˆæœ¬ä¿¡æ¯)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_32ã€-index-api-version-è·å–ç‰ˆæœ¬ä¿¡æ¯"><!---->32ã€/index/api/version(è·å–ç‰ˆæœ¬ä¿¡æ¯)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="33ã€/index/api/getMediaPlayerList" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/zh/guide/media_server/restful_api.html#_33ã€-index-api-getmediaplayerlist"><!---->33ã€/index/api/getMediaPlayerList<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a aria-label="Web Hook æ¥å£" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/web_hook_api.html"><!---->Web Hook æ¥å£<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="å®ç°æŒ‰éœ€æ‹‰æµ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/on-demand_streaming.html"><!---->å®ç°æŒ‰éœ€æ‹‰æµ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="å®ç°æŒ‰éœ€æ¨æµ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/on-demand_push_streaming.html"><!---->å®ç°æŒ‰éœ€æ¨æµ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="å®ç°æ¨æµé‰´æƒ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/push_authentication.html"><!---->å®ç°æ¨æµé‰´æƒ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="å®ç°æ’­æ”¾é‰´æƒ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/playback_authentication.html"><!---->å®ç°æ’­æ”¾é‰´æƒ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="æ€ä¹ˆå¼€å¯httpsç›¸å…³åŠŸèƒ½" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/how_to_enable_https_related_functions.html"><!---->æ€ä¹ˆå¼€å¯httpsç›¸å…³åŠŸèƒ½<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="æ¨æµæ’­æ”¾æµ‹è¯•" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/push_test.html"><!---->æ¨æµæ’­æ”¾æµ‹è¯•<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="æ’­æ”¾urlè§„åˆ™" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/play_url_rules.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>æ’­æ”¾urlè§„åˆ™<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="æ—¶åºå›¾" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/sequence_diagram.html"><!---->æ—¶åºå›¾<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="æœåŠ¡å™¨çš„å¯åŠ¨ä¸å…³é—­" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/start_server.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>æœåŠ¡å™¨çš„å¯åŠ¨ä¸å…³é—­<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç”ŸæˆSSLè‡ªç­¾åè¯ä¹¦å¹¶æµ‹è¯•" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/generate_ssl_self-signed_certificate_and_test.html"><!---->ç”ŸæˆSSLè‡ªç­¾åè¯ä¹¦å¹¶æµ‹è¯•<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é…ç½®æ–‡ä»¶è¯¦è§£" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/guide/media_server/config_file.html"><!---->é…ç½®æ–‡ä»¶è¯¦è§£<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-cube" style=""></span><span class="vp-sidebar-title">SDK API</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-code" style=""></span><span class="vp-sidebar-title">ä»£ç è§£è¯»</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span><span class="vp-sidebar-title">åè®®ç›¸å…³</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-box-archive" style=""></span><span class="vp-sidebar-title">å®‰è£…</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-question" style=""></span><span class="vp-sidebar-title">å¸¸è§é—®é¢˜</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a aria-label="å‚è€ƒ" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/zh/reference/"><!---->å‚è€ƒ<!----></a><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-code-commit" style=""></span><span class="vp-sidebar-title">å¼€å‘æ—¥å¿—</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-vials" style=""></span><span class="vp-sidebar-title">æµ‹è¯•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-file-code" style=""></span><span class="vp-sidebar-title">ç›¸å…³æ–‡æ¡£</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-font-awesome" style=""></span><span class="vp-sidebar-title">ç›¸å…³èµ„æº</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a aria-label="äº†è§£æ›´å¤š" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/zh/more/"><!---->äº†è§£æ›´å¤š<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="ä½¿ç”¨æ¡ˆä¾‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/more/use_cases.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>ä½¿ç”¨æ¡ˆä¾‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="åˆä½œé¡¹ç›®" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/more/collaborative_projects.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>åˆä½œé¡¹ç›®<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="æˆæƒåè®®" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/more/license.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>æˆæƒåè®®<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="è”ç³»æˆ‘ä»¬" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/more/contact.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>è”ç³»æˆ‘ä»¬<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="è‡´è°¢" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/zh/more/thanks.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>è‡´è°¢<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->RESTful æ¥å£</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://docs.ZLMediaKit.com" target="_blank" rel="noopener noreferrer">ZLMediaKit</a></span><span property="author" content="ZLMediaKit"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-11-19T14:25:10.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 19 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT19M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#ä¸‹è½½-postman-é…ç½®æ–‡ä»¶-å¯ä»¥åœ¨çº¿æµ‹è¯•-restful-api">ä¸‹è½½ postman é…ç½®æ–‡ä»¶(å¯ä»¥åœ¨çº¿æµ‹è¯• restful api)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#api-é¢„è§ˆ">API é¢„è§ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#api-è¿”å›ç»“æœçº¦å®š">API è¿”å›ç»“æœçº¦å®š</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#api-è¯¦è§£">API è¯¦è§£</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_0ã€-index-api-getapilist">0ã€/index/api/getApiList</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_1ã€-index-api-getthreadsload">1ã€/index/api/getThreadsLoad</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_2ã€-index-api-getworkthreadsload">2ã€/index/api/getWorkThreadsLoad</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_3ã€-index-api-getserverconfig">3ã€/index/api/getServerConfig</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_4ã€-index-api-setserverconfig">4ã€/index/api/setServerConfig</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_5ã€-index-api-restartserver">5ã€/index/api/restartServer</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_6ã€-index-api-getmedialist">6ã€/index/api/getMediaList</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_7ã€-index-api-close-stream-å·²è¿‡æœŸ-è¯·ä½¿ç”¨-close-streams-æ¥å£æ›¿æ¢">7ã€/index/api/close_stream(å·²è¿‡æœŸï¼Œè¯·ä½¿ç”¨ close_streams æ¥å£æ›¿æ¢)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_8ã€-index-api-close-streams">8ã€/index/api/close_streams</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_9ã€-index-api-getallsession">9ã€/index/api/getAllSession</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_10ã€-index-api-kick-session">10ã€/index/api/kick_session</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_11ã€-index-api-kick-sessions">11ã€/index/api/kick_sessions</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_12ã€-index-api-addstreamproxy">12ã€/index/api/addStreamProxy</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_13ã€-index-api-delstreamproxy-æµæ³¨å†ŒæˆåŠŸå-ä¹Ÿå¯ä»¥ä½¿ç”¨close-streamsæ¥å£æ›¿ä»£">13ã€/index/api/delStreamProxy(æµæ³¨å†ŒæˆåŠŸåï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨close_streamsæ¥å£æ›¿ä»£)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_14ã€-index-api-addffmpegsource">14ã€/index/api/addFFmpegSource</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_15ã€-index-api-delffmpegsource-æµæ³¨å†ŒæˆåŠŸå-ä¹Ÿå¯ä»¥ä½¿ç”¨close-streamsæ¥å£æ›¿ä»£">15ã€/index/api/delFFmpegSource(æµæ³¨å†ŒæˆåŠŸåï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨close_streamsæ¥å£æ›¿ä»£)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_16ã€-index-api-ismediaonline-å·²è¿‡æœŸ-è¯·ä½¿ç”¨getmedialistæ¥å£æ›¿ä»£">16ã€/index/api/isMediaOnline(å·²è¿‡æœŸï¼Œè¯·ä½¿ç”¨getMediaListæ¥å£æ›¿ä»£)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_17ã€-index-api-getmediainfo-å·²è¿‡æœŸ-è¯·ä½¿ç”¨getmedialistæ¥å£æ›¿ä»£">17ã€/index/api/getMediaInfo(å·²è¿‡æœŸï¼Œè¯·ä½¿ç”¨getMediaListæ¥å£æ›¿ä»£)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_18ã€-index-api-getrtpinfo">18ã€/index/api/getRtpInfo</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_19ã€-index-api-getmp4recordfile">19ã€/index/api/getMp4RecordFile</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_20ã€-index-api-startrecord">20ã€/index/api/startRecord</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_21ã€-index-api-stoprecord">21ã€/index/api/stopRecord</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_22ã€-index-api-isrecording">22ã€/index/api/isRecording</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_23ã€-index-api-getsnap">23ã€/index/api/getSnap</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_24ã€-index-api-openrtpserver">24ã€/index/api/openRtpServer</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_25ã€-index-api-closertpserver">25ã€/index/api/closeRtpServer</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_26ã€-index-api-listrtpserver">26ã€/index/api/listRtpServer</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_27ã€-index-api-startsendrtp">27ã€/index/api/startSendRtp</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_28ã€-index-api-stopsendrtp">28ã€/index/api/stopSendRtp</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_29ã€-index-api-getstatistic">29ã€/index/api/getStatistic</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_30ã€-index-api-addstreampusherproxy">30ã€/index/api/addStreamPusherProxy</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_31ã€-index-api-delstreampusherproxy-å¯ä»¥ä½¿ç”¨close-streamsæ¥å£å…³é—­æºç›´æ’­æµä¹Ÿå¯ä»¥åœæ­¢æ¨æµ">31ã€/index/api/delStreamPusherProxy(å¯ä»¥ä½¿ç”¨close_streamsæ¥å£å…³é—­æºç›´æ’­æµä¹Ÿå¯ä»¥åœæ­¢æ¨æµ)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_32ã€-index-api-version-è·å–ç‰ˆæœ¬ä¿¡æ¯">32ã€/index/api/version(è·å–ç‰ˆæœ¬ä¿¡æ¯)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_33ã€-index-api-getmediaplayerlist">33ã€/index/api/getMediaPlayerList</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h2 id="ä¸‹è½½-postman-é…ç½®æ–‡ä»¶-å¯ä»¥åœ¨çº¿æµ‹è¯•-restful-api" tabindex="-1"><a class="header-anchor" href="#ä¸‹è½½-postman-é…ç½®æ–‡ä»¶-å¯ä»¥åœ¨çº¿æµ‹è¯•-restful-api" aria-hidden="true">#</a> ä¸‹è½½ postman é…ç½®æ–‡ä»¶(å¯ä»¥åœ¨çº¿æµ‹è¯• restful api)</h2><p><a href="https://github.com/xia-chu/ZLMediaKit/tree/master/postman" target="_blank" rel="noopener noreferrer">postman é…ç½®æ–‡ä»¶<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ç”±äºæ¥å£æ›´æ–°é¢‘ç¹ï¼Œåœ¨è§‚çœ‹æœ¬æ–‡æ¡£çš„åŒæ—¶ï¼Œè¯·å¤§å®¶å†ä½¿ç”¨ postman æ ¸å¯¹æµ‹è¯•æ¥å£ï¼ŒåŒæ—¶æœ¬æ–‡æ¡£å¯èƒ½æœ‰äº›æ¥å£æœ‰é—æ¼ï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒ<a href="https://github.com/xia-chu/ZLMediaKit/blob/master/server/WebApi.cpp#L261" target="_blank" rel="noopener noreferrer">ä»£ç <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="api-é¢„è§ˆ" tabindex="-1"><a class="header-anchor" href="#api-é¢„è§ˆ" aria-hidden="true">#</a> API é¢„è§ˆ</h2><p>MediaServer æ˜¯ ZLMediaKit çš„ä¸»è¿›ç¨‹ï¼Œç›®å‰æ”¯æŒä»¥ä¸‹ http api æ¥å£ï¼Œè¿™äº›æ¥å£å…¨éƒ¨æ”¯æŒ GET/POST æ–¹å¼ï¼Œ</p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code>      &quot;/index/api/addFFmpegSource&quot;,
      &quot;/index/api/addStreamProxy&quot;,
      &quot;/index/api/close_stream&quot;,
      &quot;/index/api/close_streams&quot;,
      &quot;/index/api/delFFmpegSource&quot;,
      &quot;/index/api/delStreamProxy&quot;,
      &quot;/index/api/getAllSession&quot;,
      &quot;/index/api/getApiList&quot;,
      &quot;/index/api/getMediaList&quot;,
      &quot;/index/api/getServerConfig&quot;,
      &quot;/index/api/getThreadsLoad&quot;,
      &quot;/index/api/getWorkThreadsLoad&quot;,
      &quot;/index/api/kick_session&quot;,
      &quot;/index/api/kick_sessions&quot;,
      &quot;/index/api/restartServer&quot;,
      &quot;/index/api/setServerConfig&quot;,
      &quot;/index/api/isMediaOnline&quot;,
      &quot;/index/api/getMediaInfo&quot;,
      &quot;/index/api/getRtpInfo&quot;,
      &quot;/index/api/getMp4RecordFile&quot;,
      &quot;/index/api/startRecord&quot;,
      &quot;/index/api/stopRecord&quot;,
      &quot;/index/api/getRecordStatus&quot;,
      &quot;/index/api/getSnap&quot;,
      &quot;/index/api/openRtpServer&quot;,
      &quot;/index/api/closeRtpServer&quot;,
      &quot;/index/api/listRtpServer&quot;,
      &quot;/index/api/startSendRtp&quot;,
      &quot;/index/api/stopSendRtp&quot;,
      &quot;/index/api/getStatistic&quot;,
      &quot;/index/api/addStreamPusherProxy&quot;,
      &quot;/index/api/delStreamPusherProxy&quot;,
      &quot;/index/api/version&quot;,
      &quot;/index/api/getMediaPlayerList&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ POST æ–¹å¼ï¼Œå‚æ•°æ—¢å¯ä»¥ä½¿ç”¨ urlencoded æ–¹å¼ä¹Ÿå¯ä»¥ä½¿ç”¨ json æ–¹å¼ã€‚ æ“ä½œè¿™äº› api ä¸€èˆ¬éœ€è¦æä¾› secret å‚æ•°ä»¥ä¾¿é‰´æƒï¼Œå¦‚æœæ“ä½œ ip æ˜¯ 127.0.0.1ï¼Œé‚£ä¹ˆå¯ä»¥æ— éœ€é‰´æƒã€‚</p><h2 id="api-è¿”å›ç»“æœçº¦å®š" tabindex="-1"><a class="header-anchor" href="#api-è¿”å›ç»“æœçº¦å®š" aria-hidden="true">#</a> API è¿”å›ç»“æœçº¦å®š</h2><ul><li>HTTP å±‚é¢ç»Ÿä¸€è¿”å› 200 çŠ¶æ€ç ï¼Œbody ç»Ÿä¸€ä¸º jsonã€‚</li><li>body ä¸€èˆ¬ä¸ºä»¥ä¸‹æ ·å¼ï¼š</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;å¤±è´¥æç¤º&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>code å€¼ä»£è¡¨æ‰§è¡Œç»“æœï¼Œç›®å‰åŒ…å«ä»¥ä¸‹ç±»å‹ï¼š</li></ul><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">typedef</span> <span class="token keyword">enum</span> <span class="token punctuation">{</span>
    Exception <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token comment">//ä»£ç æŠ›å¼‚å¸¸</span>
    InvalidArgs <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token comment">//å‚æ•°ä¸åˆæ³•</span>
    SqlFailed <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token comment">//sqlæ‰§è¡Œå¤±è´¥</span>
    AuthFailed <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token comment">//é‰´æƒå¤±è´¥</span>
    OtherFailed <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">//ä¸šåŠ¡ä»£ç æ‰§è¡Œå¤±è´¥ï¼Œ</span>
    Success <span class="token operator">=</span> <span class="token number">0</span><span class="token comment">//æ‰§è¡ŒæˆåŠŸ</span>
<span class="token punctuation">}</span> ApiErr<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>å¦‚æœæ‰§è¡ŒæˆåŠŸï¼Œé‚£ä¹ˆ<code>code == 0</code>,å¹¶ä¸”ä¸€èˆ¬æ— <code>msg</code>å­—æ®µã€‚</p></li><li><p><code>code == -1</code>æ—¶ä»£è¡¨ä¸šåŠ¡ä»£ç æ‰§è¡Œä¸æˆåŠŸï¼Œæ›´ç»†çš„åŸå› ä¸€èˆ¬æä¾›<code>result</code>å­—æ®µï¼Œä¾‹å¦‚ä»¥ä¸‹ï¼š</p></li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span> # ä»£è¡¨ä¸šåŠ¡ä»£ç æ‰§è¡Œå¤±è´¥
    <span class="token property">&quot;msg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;can not find the stream&quot;</span><span class="token punctuation">,</span> # å¤±è´¥æç¤º
    <span class="token property">&quot;result&quot;</span> <span class="token operator">:</span> <span class="token number">-2</span> # ä¸šåŠ¡ä»£ç æ‰§è¡Œå¤±è´¥å…·ä½“åŸå› 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>å¼€å‘è€…ä¸€èˆ¬åªè¦å…³æ³¨<code>code</code>å­—æ®µå’Œ<code>msg</code>å­—æ®µï¼Œå¦‚æœ<code>code != 0</code>æ—¶ï¼Œæ‰“å°æ˜¾ç¤º<code>msg</code>å­—æ®µå³å¯ã€‚</p></li><li><p><code>code == 0</code>æ—¶ä»£è¡¨å®Œå…¨æˆåŠŸï¼Œå¦‚æœæœ‰æ•°æ®è¿”å›ï¼Œä¸€èˆ¬æä¾›<code>data</code>å­—æ®µè¿”å›æ•°æ®ã€‚</p></li></ul><h2 id="api-è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#api-è¯¦è§£" aria-hidden="true">#</a> API è¯¦è§£</h2><h3 id="_0ã€-index-api-getapilist" tabindex="-1"><a class="header-anchor" href="#_0ã€-index-api-getapilist" aria-hidden="true">#</a> 0ã€<code>/index/api/getApiList</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å– API åˆ—è¡¨</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/getApiList" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getApiList<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼šæ— </p></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;/index/&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/addFFmpegSource&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/addStreamProxy&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/addStreamPusherProxy&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/closeRtpServer&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/close_stream&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/delFFmpegSource&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/delStreamProxy&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/delStreamPusherProxy&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/downloadBin&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getAllSession&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getApiList&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getMediaInfo&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getMediaList&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getMp4RecordFile&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getRtpInfo&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getServerConfig&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getSnap&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getStatistic&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getThreadsLoad&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/getWorkThreadsLoad&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/isMediaOnline&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/isRecording&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/kick_session&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/kick_sessions&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/listRtpServer&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/openRtpServer&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/pauseRtpCheck&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/restartServer&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/resumeRtpCheck&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/setServerConfig&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/startRecord&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/startSendRtp&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/stopRecord&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/stopSendRtp&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/version&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/api/webrtc&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_flow_report&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_http_access&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_play&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_publish&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_record_hls&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_record_mp4&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_rtsp_auth&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_rtsp_realm&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_server_started&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_shell_login&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_stream_changed&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_stream_none_reader&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_stream_not_found&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;/index/hook/on_stream_not_found_ffmpeg&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_1ã€-index-api-getthreadsload" tabindex="-1"><a class="header-anchor" href="#_1ã€-index-api-getthreadsload" aria-hidden="true">#</a> 1ã€<code>/index/api/getThreadsLoad</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å–å„ epoll(æˆ– select)çº¿ç¨‹è´Ÿè½½ä»¥åŠå»¶æ—¶</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/getThreadsLoad" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getThreadsLoad<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼šæ— </p></li><li><p>å“åº”:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;delay&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # è¯¥çº¿ç¨‹å»¶æ—¶
         <span class="token property">&quot;load&quot;</span> <span class="token operator">:</span> <span class="token number">0</span> # è¯¥çº¿ç¨‹è´Ÿè½½ï¼Œ<span class="token number">0</span> ~ <span class="token number">100</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;delay&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token property">&quot;load&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_2ã€-index-api-getworkthreadsload" tabindex="-1"><a class="header-anchor" href="#_2ã€-index-api-getworkthreadsload" aria-hidden="true">#</a> 2ã€<code>/index/api/getWorkThreadsLoad</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å–å„åå° epoll(æˆ– select)çº¿ç¨‹è´Ÿè½½ä»¥åŠå»¶æ—¶</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/getWorkThreadsLoad" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getWorkThreadsLoad<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼šæ— </p></li><li><p>å“åº”:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;delay&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # è¯¥çº¿ç¨‹å»¶æ—¶
         <span class="token property">&quot;load&quot;</span> <span class="token operator">:</span> <span class="token number">0</span> # è¯¥çº¿ç¨‹è´Ÿè½½ï¼Œ<span class="token number">0</span> ~ <span class="token number">100</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;delay&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token property">&quot;load&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_3ã€-index-api-getserverconfig" tabindex="-1"><a class="header-anchor" href="#_3ã€-index-api-getserverconfig" aria-hidden="true">#</a> 3ã€<code>/index/api/getServerConfig</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å–æœåŠ¡å™¨é…ç½®</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/getServerConfig" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getServerConfig<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;api.apiDebug&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;api.secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;035c73f7-bb6b-4889-a715-d9eb2d1925cc&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ffmpeg.bin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/usr/local/bin/ffmpeg&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ffmpeg.cmd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;%s -i %s -c:a aac -strict -2 -ar 44100 -ab 48k -c:v libx264 -f flv %s&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ffmpeg.log&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/Users/xzl/git/ZLMediaKit/cmake-build-debug/bin/ffmpeg/ffmpeg.log&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;general.enableVhost&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;general.flowThreshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1024&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;general.maxStreamWaitMS&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;general.streamNoneReaderDelayMS&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hls.fileBufSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65536&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hls.filePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/Users/xzl/git/ZLMediaKit/cmake-build-debug/bin/httpRoot&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hls.segDur&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hls.segNum&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.access_file_except_hls&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.admin_params&quot;</span><span class="token operator">:</span> <span class="token string">&quot;secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.enable&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_flow_report&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_flow_report&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_http_access&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_http_access&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_play&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_play&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_publish&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_publish&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_record_mp4&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_record_mp4&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_rtsp_auth&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_rtsp_auth&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_rtsp_realm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_rtsp_realm&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_shell_login&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_shell_login&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_stream_changed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_stream_changed&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_stream_none_reader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_stream_none_reader&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.on_stream_not_found&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://127.0.0.1/index/hook/on_stream_not_found&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hook.timeoutSec&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.charSet&quot;</span><span class="token operator">:</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.keepAliveSecond&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.maxReqCount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.maxReqSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4096&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.notFound&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;&lt;body bgcolor=\&quot;white\&quot;&gt;&lt;center&gt;&lt;h1&gt;æ‚¨è®¿é—®çš„èµ„æºä¸å­˜åœ¨ï¼&lt;/h1&gt;&lt;/center&gt;&lt;hr&gt;&lt;center&gt;ZLMediaKit-4.0&lt;/center&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.port&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.rootPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/Users/xzl/git/ZLMediaKit/cmake-build-debug/bin/httpRoot&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.sendBufSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65536&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;http.sslport&quot;</span><span class="token operator">:</span> <span class="token string">&quot;443&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;multicast.addrMax&quot;</span><span class="token operator">:</span> <span class="token string">&quot;239.255.255.255&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;multicast.addrMin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;239.0.0.0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;multicast.udpTTL&quot;</span><span class="token operator">:</span> <span class="token string">&quot;64&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;record.appName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;record.filePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/Users/xzl/git/ZLMediaKit/cmake-build-debug/bin/httpRoot&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;record.fileSecond&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3600&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;record.sampleMS&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtmp.handshakeSecond&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtmp.keepAliveSecond&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtmp.modifyStamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtmp.port&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1935&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtp.audioMtuSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;600&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtp.clearCount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtp.cycleMS&quot;</span><span class="token operator">:</span> <span class="token string">&quot;46800000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtp.maxRtpCount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;50&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtp.videoMtuSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1400&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtsp.authBasic&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtsp.handshakeSecond&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtsp.keepAliveSecond&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtsp.port&quot;</span><span class="token operator">:</span> <span class="token string">&quot;554&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rtsp.sslport&quot;</span><span class="token operator">:</span> <span class="token string">&quot;322&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;shell.maxReqSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1024&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;shell.port&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9000&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_4ã€-index-api-setserverconfig" tabindex="-1"><a class="header-anchor" href="#_4ã€-index-api-setserverconfig" aria-hidden="true">#</a> 4ã€<code>/index/api/setServerConfig</code></h3><ul><li><p>åŠŸèƒ½ï¼šè®¾ç½®æœåŠ¡å™¨é…ç½®</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/setServerConfig?api.apiDebug=0" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/setServerConfig?api.apiDebug=0(ä¾‹å¦‚å…³é—­ http api è°ƒè¯•)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;changed&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # é…ç½®é¡¹å˜æ›´ä¸ªæ•°
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>     # <span class="token number">0</span>ä»£è¡¨æˆåŠŸ
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_5ã€-index-api-restartserver" tabindex="-1"><a class="header-anchor" href="#_5ã€-index-api-restartserver" aria-hidden="true">#</a> 5ã€<code>/index/api/restartServer</code></h3><ul><li><p>åŠŸèƒ½ï¼šé‡å¯æœåŠ¡å™¨,åªæœ‰ Daemon æ–¹å¼æ‰èƒ½é‡å¯ï¼Œå¦åˆ™æ˜¯ç›´æ¥å…³é—­ï¼</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/restartServer" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/restartServer<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æœåŠ¡å™¨å°†åœ¨ä¸€ç§’åè‡ªåŠ¨é‡å¯&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_6ã€-index-api-getmedialist" tabindex="-1"><a class="header-anchor" href="#_6ã€-index-api-getmedialist" aria-hidden="true">#</a> 6ã€<code>/index/api/getMediaList</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å–æµåˆ—è¡¨ï¼Œå¯é€‰ç­›é€‰å‚æ•°</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/getMediaList" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getMediaList<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">N</td><td style="text-align:center;">ç­›é€‰åè®®ï¼Œä¾‹å¦‚ rtsp æˆ– rtmp</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">N</td><td style="text-align:center;">ç­›é€‰è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">N</td><td style="text-align:center;">ç­›é€‰åº”ç”¨åï¼Œä¾‹å¦‚ live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">N</td><td style="text-align:center;">ç­›é€‰æµ idï¼Œä¾‹å¦‚ test</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
     <span class="token property">&quot;app&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;live&quot;</span><span class="token punctuation">,</span>  # åº”ç”¨å
     <span class="token property">&quot;readerCount&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # æœ¬åè®®è§‚çœ‹äººæ•°
     <span class="token property">&quot;totalReaderCount&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # è§‚çœ‹æ€»äººæ•°ï¼ŒåŒ…æ‹¬hls/rtsp/rtmp/http-flv/ws-flv
     <span class="token property">&quot;schema&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;rtsp&quot;</span><span class="token punctuation">,</span> # åè®®
     <span class="token property">&quot;stream&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;obs&quot;</span><span class="token punctuation">,</span> # æµid
     <span class="token property">&quot;originSock&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  # å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç½‘ç»œä¿¡æ¯ï¼Œå¯èƒ½ä¸º<span class="token null keyword">null</span>ç±»å‹
            <span class="token property">&quot;identifier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;140241931428384&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;local_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;local_port&quot;</span><span class="token operator">:</span> <span class="token number">1935</span><span class="token punctuation">,</span>
            <span class="token property">&quot;peer_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;peer_port&quot;</span><span class="token operator">:</span> <span class="token number">50097</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token property">&quot;originType&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> # äº§ç”Ÿæºç±»å‹ï¼ŒåŒ…æ‹¬ unknown = <span class="token number">0</span><span class="token punctuation">,</span>rtmp_push=<span class="token number">1</span><span class="token punctuation">,</span>rtsp_push=<span class="token number">2</span><span class="token punctuation">,</span>rtp_push=<span class="token number">3</span><span class="token punctuation">,</span>pull=<span class="token number">4</span><span class="token punctuation">,</span>ffmpeg_pull=<span class="token number">5</span><span class="token punctuation">,</span>mp4_vod=<span class="token number">6</span><span class="token punctuation">,</span>device_chn=<span class="token number">7</span>
     <span class="token property">&quot;originTypeStr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MediaOriginType::rtmp_push&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;originUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rtmp://127.0.0.1:1935/live/hks2&quot;</span><span class="token punctuation">,</span> #äº§ç”Ÿæºçš„url
     <span class="token property">&quot;createStamp&quot;</span><span class="token operator">:</span> <span class="token number">1602205811</span><span class="token punctuation">,</span> #GMT unixç³»ç»Ÿæ—¶é—´æˆ³ï¼Œå•ä½ç§’
     <span class="token property">&quot;aliveSecond&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> #å­˜æ´»æ—¶é—´ï¼Œå•ä½ç§’
     <span class="token property">&quot;bytesSpeed&quot;</span><span class="token operator">:</span> <span class="token number">12345</span><span class="token punctuation">,</span> #æ•°æ®äº§ç”Ÿé€Ÿåº¦ï¼Œå•ä½byte/s
     <span class="token property">&quot;tracks&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>    # éŸ³è§†é¢‘è½¨é“
        <span class="token punctuation">{</span>
           <span class="token property">&quot;channels&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> # éŸ³é¢‘é€šé“æ•°
           <span class="token property">&quot;codec_id&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> # H264 = <span class="token number">0</span><span class="token punctuation">,</span> H265 = <span class="token number">1</span><span class="token punctuation">,</span> AAC = <span class="token number">2</span><span class="token punctuation">,</span> G711A = <span class="token number">3</span><span class="token punctuation">,</span> G711U = <span class="token number">4</span>
           <span class="token property">&quot;codec_id_name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CodecAAC&quot;</span><span class="token punctuation">,</span> # ç¼–ç ç±»å‹åç§°
           <span class="token property">&quot;codec_type&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> # Video = <span class="token number">0</span><span class="token punctuation">,</span> Audio = <span class="token number">1</span>
           <span class="token property">&quot;ready&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> # è½¨é“æ˜¯å¦å‡†å¤‡å°±ç»ª
           <span class="token property">&quot;frames&quot;</span> <span class="token operator">:</span> <span class="token number">1119</span><span class="token punctuation">,</span> #ç´¯è®¡æ¥æ”¶å¸§æ•°
           <span class="token property">&quot;sample_bit&quot;</span> <span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> # éŸ³é¢‘é‡‡æ ·ä½æ•°
           <span class="token property">&quot;sample_rate&quot;</span> <span class="token operator">:</span> <span class="token number">8000</span> # éŸ³é¢‘é‡‡æ ·ç‡
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
           <span class="token property">&quot;codec_id&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # H264 = <span class="token number">0</span><span class="token punctuation">,</span> H265 = <span class="token number">1</span><span class="token punctuation">,</span> AAC = <span class="token number">2</span><span class="token punctuation">,</span> G711A = <span class="token number">3</span><span class="token punctuation">,</span> G711U = <span class="token number">4</span>
           <span class="token property">&quot;codec_id_name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CodecH264&quot;</span><span class="token punctuation">,</span> # ç¼–ç ç±»å‹åç§°
           <span class="token property">&quot;codec_type&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # Video = <span class="token number">0</span><span class="token punctuation">,</span> Audio = <span class="token number">1</span>
           <span class="token property">&quot;fps&quot;</span> <span class="token operator">:</span> <span class="token number">59</span><span class="token punctuation">,</span>  # è§†é¢‘fps
           <span class="token property">&quot;frames&quot;</span> <span class="token operator">:</span> <span class="token number">1119</span><span class="token punctuation">,</span> #ç´¯è®¡æ¥æ”¶å¸§æ•°ï¼Œä¸åŒ…å«sei/aud/sps/ppsç­‰ä¸èƒ½è§£ç çš„å¸§
           <span class="token property">&quot;gop_interval_ms&quot;</span> <span class="token operator">:</span> <span class="token number">1993</span><span class="token punctuation">,</span> #gopé—´éš”æ—¶é—´ï¼Œå•ä½æ¯«ç§’
           <span class="token property">&quot;gop_size&quot;</span> <span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span> #gopå¤§å°ï¼Œå•ä½å¸§æ•°
           <span class="token property">&quot;key_frames&quot;</span> <span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">,</span> #ç´¯è®¡æ¥æ”¶å…³é”®å¸§æ•°
           <span class="token property">&quot;height&quot;</span> <span class="token operator">:</span> <span class="token number">720</span><span class="token punctuation">,</span> # è§†é¢‘é«˜
           <span class="token property">&quot;ready&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  # è½¨é“æ˜¯å¦å‡†å¤‡å°±ç»ª
           <span class="token property">&quot;width&quot;</span> <span class="token operator">:</span> <span class="token number">1280</span> # è§†é¢‘å®½
        <span class="token punctuation">}</span>
     <span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token property">&quot;vhost&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;__defaultVhost__&quot;</span> # è™šæ‹Ÿä¸»æœºå
   <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_7ã€-index-api-close-stream-å·²è¿‡æœŸ-è¯·ä½¿ç”¨-close-streams-æ¥å£æ›¿æ¢" tabindex="-1"><a class="header-anchor" href="#_7ã€-index-api-close-stream-å·²è¿‡æœŸ-è¯·ä½¿ç”¨-close-streams-æ¥å£æ›¿æ¢" aria-hidden="true">#</a> 7ã€<code>/index/api/close_stream</code>(å·²è¿‡æœŸï¼Œè¯·ä½¿ç”¨ close_streams æ¥å£æ›¿æ¢)</h3><ul><li><p>åŠŸèƒ½ï¼šå…³é—­æµ(ç›®å‰æ‰€æœ‰ç±»å‹çš„æµéƒ½æ”¯æŒå…³é—­)</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/close_stream?schema=rtmp&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=0&amp;force=1" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/close_stream?schema=rtmp&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=0&amp;force=1<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">Y</td><td style="text-align:center;">åè®®ï¼Œä¾‹å¦‚ rtsp æˆ– rtmp</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">åº”ç”¨åï¼Œä¾‹å¦‚ live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµ idï¼Œä¾‹å¦‚ test</td></tr><tr><td style="text-align:center;">force</td><td style="text-align:center;">N</td><td style="text-align:center;">æ˜¯å¦å¼ºåˆ¶å…³é—­(æœ‰äººåœ¨è§‚çœ‹æ˜¯å¦è¿˜å…³é—­)</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;result&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span># <span class="token number">0</span><span class="token operator">:</span>æˆåŠŸï¼Œ<span class="token number">-1</span><span class="token operator">:</span>å…³é—­å¤±è´¥ï¼Œ<span class="token number">-2</span><span class="token operator">:</span>è¯¥æµä¸å­˜åœ¨
   <span class="token property">&quot;msg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;success&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_8ã€-index-api-close-streams" tabindex="-1"><a class="header-anchor" href="#_8ã€-index-api-close-streams" aria-hidden="true">#</a> 8ã€<code>/index/api/close_streams</code></h3><ul><li><p>åŠŸèƒ½ï¼šå…³é—­æµ(ç›®å‰æ‰€æœ‰ç±»å‹çš„æµéƒ½æ”¯æŒå…³é—­)</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/close_streams?schema=rtmp&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=0&amp;force=1" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/close_streams?schema=rtmp&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=0&amp;force=1<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">N</td><td style="text-align:center;">åè®®ï¼Œä¾‹å¦‚ rtsp æˆ– rtmp</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">N</td><td style="text-align:center;">è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">N</td><td style="text-align:center;">åº”ç”¨åï¼Œä¾‹å¦‚ live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">N</td><td style="text-align:center;">æµ idï¼Œä¾‹å¦‚ test</td></tr><tr><td style="text-align:center;">force</td><td style="text-align:center;">N</td><td style="text-align:center;">æ˜¯å¦å¼ºåˆ¶å…³é—­(æœ‰äººåœ¨è§‚çœ‹æ˜¯å¦è¿˜å…³é—­)</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;count_hit&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  # ç­›é€‰å‘½ä¸­çš„æµä¸ªæ•°
   <span class="token property">&quot;count_closed&quot;</span> <span class="token operator">:</span> <span class="token number">1</span> # è¢«å…³é—­çš„æµä¸ªæ•°ï¼Œå¯èƒ½å°äºcount_hit
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_9ã€-index-api-getallsession" tabindex="-1"><a class="header-anchor" href="#_9ã€-index-api-getallsession" aria-hidden="true">#</a> 9ã€<code>/index/api/getAllSession</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å–æ‰€æœ‰ TcpSession åˆ—è¡¨(è·å–æ‰€æœ‰ tcp å®¢æˆ·ç«¯ç›¸å…³ä¿¡æ¯)</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/getAllSession" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getAllSession<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">local_port</td><td style="text-align:center;">N</td><td style="text-align:center;">ç­›é€‰æœ¬æœºç«¯å£ï¼Œä¾‹å¦‚ç­›é€‰ rtsp é“¾æ¥ï¼š554</td></tr><tr><td style="text-align:center;">peer_ip</td><td style="text-align:center;">N</td><td style="text-align:center;">ç­›é€‰å®¢æˆ·ç«¯ ip</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;140614477848784&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;local_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;local_port&quot;</span> <span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
         <span class="token property">&quot;peer_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;peer_port&quot;</span> <span class="token operator">:</span> <span class="token number">51136</span><span class="token punctuation">,</span>
         <span class="token property">&quot;typeid&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;16WebSocketSessionI11EchoSessionN8mediakit11HttpSessionEE&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;140614443300192&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;local_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;local_port&quot;</span> <span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
         <span class="token property">&quot;peer_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;peer_port&quot;</span> <span class="token operator">:</span> <span class="token number">51135</span><span class="token punctuation">,</span>
         <span class="token property">&quot;typeid&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;16WebSocketSessionI11EchoSessionN8mediakit11HttpSessionEE&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;140614440178720&quot;</span><span class="token punctuation">,</span>  # è¯¥tcpé“¾æ¥å”¯ä¸€id
         <span class="token property">&quot;local_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>  # æœ¬æœºç½‘å¡ip
         <span class="token property">&quot;local_port&quot;</span> <span class="token operator">:</span> <span class="token number">1935</span><span class="token punctuation">,</span> 			# æœ¬æœºç«¯å£å·	(è¿™æ˜¯ä¸ªrtmpæ’­æ”¾å™¨æˆ–æ¨æµå™¨)
         <span class="token property">&quot;peer_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>   # å®¢æˆ·ç«¯ip
         <span class="token property">&quot;peer_port&quot;</span> <span class="token operator">:</span> <span class="token number">51130</span><span class="token punctuation">,</span>				# å®¢æˆ·ç«¯ç«¯å£å·
         <span class="token property">&quot;typeid&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;N8mediakit11RtmpSessionE&quot;</span>  # å®¢æˆ·ç«¯TCPSession typeid
      <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_10ã€-index-api-kick-session" tabindex="-1"><a class="header-anchor" href="#_10ã€-index-api-kick-session" aria-hidden="true">#</a> 10ã€<code>/index/api/kick_session</code></h3><ul><li><p>åŠŸèƒ½ï¼šæ–­å¼€ tcp è¿æ¥ï¼Œæ¯”å¦‚è¯´å¯ä»¥æ–­å¼€ rtspã€rtmp æ’­æ”¾å™¨ç­‰</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/kick_session?id=140614440178720" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/kick_session?id=140614440178720<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">Id</td><td style="text-align:center;">Y</td><td style="text-align:center;">å®¢æˆ·ç«¯å”¯ä¸€ idï¼Œå¯ä»¥é€šè¿‡ getAllSession æ¥å£è·å–</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_11ã€-index-api-kick-sessions" tabindex="-1"><a class="header-anchor" href="#_11ã€-index-api-kick-sessions" aria-hidden="true">#</a> 11ã€<code>/index/api/kick_sessions</code></h3><ul><li><p>åŠŸèƒ½ï¼šæ–­å¼€ tcp è¿æ¥ï¼Œæ¯”å¦‚è¯´å¯ä»¥æ–­å¼€ rtspã€rtmp æ’­æ”¾å™¨ç­‰</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/kick_sessions?local_port=554" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/kick_sessions?local_port=554<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">local_port</td><td style="text-align:center;">N</td><td style="text-align:center;">ç­›é€‰æœ¬æœºç«¯å£ï¼Œä¾‹å¦‚ç­›é€‰ rtsp é“¾æ¥ï¼š554</td></tr><tr><td style="text-align:center;">peer_ip</td><td style="text-align:center;">N</td><td style="text-align:center;">ç­›é€‰å®¢æˆ·ç«¯ ip</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;count_hit&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span># ç­›é€‰å‘½ä¸­å®¢æˆ·ç«¯ä¸ªæ•°
   <span class="token property">&quot;msg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;success&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_12ã€-index-api-addstreamproxy" tabindex="-1"><a class="header-anchor" href="#_12ã€-index-api-addstreamproxy" aria-hidden="true">#</a> 12ã€<code>/index/api/addStreamProxy</code></h3><ul><li><p>åŠŸèƒ½ï¼šåŠ¨æ€æ·»åŠ  rtsp/rtmp/hls/http-ts/http-flv æ‹‰æµä»£ç†(åªæ”¯æŒ H264/H265/aac/G711/opus è´Ÿè½½)</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/addStreamProxy?vhost=__defaultVhost__&amp;app=proxy&amp;stream=0&amp;url=rtmp://live.hkstv.hk.lxdns.com/live/hks2" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/addStreamProxy?vhost=<code>__defaultVhost__</code>&amp;app=proxy&amp;stream=0&amp;url=rtmp://live.hkstv.hk.lxdns.com/live/hks2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">å‚æ•°ç±»å‹</th><th style="text-align:center;">é‡Šæ„</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td><td style="text-align:center;">Y</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">æ·»åŠ çš„æµçš„è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<code>__defaultVhost__</code></td><td style="text-align:center;">Y</td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">æ·»åŠ çš„æµçš„åº”ç”¨åï¼Œä¾‹å¦‚ live</td><td style="text-align:center;">Y</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">æ·»åŠ çš„æµçš„ id åï¼Œä¾‹å¦‚ test</td><td style="text-align:center;">Y</td></tr><tr><td style="text-align:center;">url</td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">æ‹‰æµåœ°å€ï¼Œä¾‹å¦‚ rtmp://live.hkstv.hk.lxdns.com/live/hks2</td><td style="text-align:center;">Y</td></tr><tr><td style="text-align:center;">retry_count</td><td style="text-align:center;"><code>int</code></td><td style="text-align:center;">æ‹‰æµé‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ä¸º-1 æ— é™é‡è¯•</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;">rtp_type</td><td style="text-align:center;"><code>int</code></td><td style="text-align:center;">rtsp æ‹‰æµæ—¶ï¼Œæ‹‰æµæ–¹å¼ï¼Œ0ï¼štcpï¼Œ1ï¼šudpï¼Œ2ï¼šç»„æ’­</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;">timeout_sec</td><td style="text-align:center;"><code>int</code></td><td style="text-align:center;">æ‹‰æµè¶…æ—¶æ—¶é—´ï¼Œå•ä½ç§’ï¼Œfloat ç±»å‹</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_hls</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">æ˜¯å¦è½¬æ¢æˆ hls-mpegts åè®®</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_hls_fmp4</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">æ˜¯å¦è½¬æ¢æˆ hls-fmp4 åè®®</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_mp4</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">æ˜¯å¦å…è®¸ mp4 å½•åˆ¶</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_rtsp</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">æ˜¯å¦è½¬ rtsp åè®®</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_rtmp</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">æ˜¯å¦è½¬ rtmp/flv åè®®</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_ts</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">æ˜¯å¦è½¬ http-ts/ws-ts åè®®</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_fmp4</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">æ˜¯å¦è½¬ http-fmp4/ws-fmp4 åè®®</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>hls_demand</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">è¯¥åè®®æ˜¯å¦æœ‰äººè§‚çœ‹æ‰ç”Ÿæˆ</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>rtsp_demand</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">è¯¥åè®®æ˜¯å¦æœ‰äººè§‚çœ‹æ‰ç”Ÿæˆ</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>rtmp_demand</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">è¯¥åè®®æ˜¯å¦æœ‰äººè§‚çœ‹æ‰ç”Ÿæˆ</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>ts_demand</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">è¯¥åè®®æ˜¯å¦æœ‰äººè§‚çœ‹æ‰ç”Ÿæˆ</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>fmp4_demand</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">è¯¥åè®®æ˜¯å¦æœ‰äººè§‚çœ‹æ‰ç”Ÿæˆ</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>enable_audio</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">è½¬åè®®æ—¶æ˜¯å¦å¼€å¯éŸ³é¢‘</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>add_mute_audio</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">è½¬åè®®æ—¶ï¼Œæ— éŸ³é¢‘æ˜¯å¦æ·»åŠ é™éŸ³ aac éŸ³é¢‘</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>mp4_save_path</code></td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">mp4 å½•åˆ¶æ–‡ä»¶ä¿å­˜æ ¹ç›®å½•ï¼Œç½®ç©ºä½¿ç”¨é»˜è®¤</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>mp4_max_second</code></td><td style="text-align:center;"><code>int</code></td><td style="text-align:center;">mp4 å½•åˆ¶åˆ‡ç‰‡å¤§å°ï¼Œå•ä½ç§’</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>mp4_as_player</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">MP4 å½•åˆ¶æ˜¯å¦å½“ä½œè§‚çœ‹è€…å‚ä¸æ’­æ”¾äººæ•°è®¡æ•°</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>hls_save_path</code></td><td style="text-align:center;"><code>string</code></td><td style="text-align:center;">hls æ–‡ä»¶ä¿å­˜ä¿å­˜æ ¹ç›®å½•ï¼Œç½®ç©ºä½¿ç”¨é»˜è®¤</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>modify_stamp</code></td><td style="text-align:center;"><code>int</code></td><td style="text-align:center;">è¯¥æµæ˜¯å¦å¼€å¯æ—¶é—´æˆ³è¦†ç›–(0:ç»å¯¹æ—¶é—´æˆ³/1:ç³»ç»Ÿæ—¶é—´æˆ³/2:ç›¸å¯¹æ—¶é—´æˆ³)</td><td style="text-align:center;">N</td></tr><tr><td style="text-align:center;"><code>auto_close</code></td><td style="text-align:center;"><code>bool</code></td><td style="text-align:center;">æ— äººè§‚çœ‹æ˜¯å¦è‡ªåŠ¨å…³é—­æµ(ä¸è§¦å‘æ— äººè§‚çœ‹ hook)</td><td style="text-align:center;">N</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;key&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;__defaultVhost__/proxy/0&quot;</span>  # æµçš„å”¯ä¸€æ ‡è¯†
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_13ã€-index-api-delstreamproxy-æµæ³¨å†ŒæˆåŠŸå-ä¹Ÿå¯ä»¥ä½¿ç”¨close-streamsæ¥å£æ›¿ä»£" tabindex="-1"><a class="header-anchor" href="#_13ã€-index-api-delstreamproxy-æµæ³¨å†ŒæˆåŠŸå-ä¹Ÿå¯ä»¥ä½¿ç”¨close-streamsæ¥å£æ›¿ä»£" aria-hidden="true">#</a> 13ã€<code>/index/api/delStreamProxy(æµæ³¨å†ŒæˆåŠŸåï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨close_streamsæ¥å£æ›¿ä»£)</code></h3><ul><li><p>åŠŸèƒ½ï¼šå…³é—­æ‹‰æµä»£ç†</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/delStreamProxy?key=__defaultVhost__/proxy/0" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/delStreamProxy?key=<code>__defaultVhost__</code>/proxy/0<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">key</td><td style="text-align:center;">Y</td><td style="text-align:center;">addStreamProxy æ¥å£è¿”å›çš„ key</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;flag&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # æˆåŠŸä¸å¦
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_14ã€-index-api-addffmpegsource" tabindex="-1"><a class="header-anchor" href="#_14ã€-index-api-addffmpegsource" aria-hidden="true">#</a> 14ã€<code>/index/api/addFFmpegSource</code></h3><ul><li><p>åŠŸèƒ½ï¼šé€šè¿‡ fork FFmpeg è¿›ç¨‹çš„æ–¹å¼æ‹‰æµä»£ç†ï¼Œæ”¯æŒä»»æ„åè®®</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/addFFmpegSource?src_url=http://live.hkstv.hk.lxdns.com/live/hks2/playlist.m3u8&amp;dst_url=rtmp://127.0.0.1/live/hks2&amp;timeout_ms=10000&amp;ffmpeg_cmd_key=ffmpeg.cmd" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/addFFmpegSource?src_url=http://live.hkstv.hk.lxdns.com/live/hks2/playlist.m3u8&amp;dst_url=rtmp://127.0.0.1/live/hks2&amp;timeout_ms=10000&amp;ffmpeg_cmd_key=ffmpeg.cmd<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">src_url</td><td style="text-align:center;">Y</td><td style="text-align:center;">FFmpeg æ‹‰æµåœ°å€,æ”¯æŒä»»æ„åè®®æˆ–æ ¼å¼(åªè¦ FFmpeg æ”¯æŒå³å¯)</td></tr><tr><td style="text-align:center;">dst_url</td><td style="text-align:center;">Y</td><td style="text-align:center;">FFmpeg rtmp æ¨æµåœ°å€ï¼Œä¸€èˆ¬éƒ½æ˜¯æ¨ç»™è‡ªå·±ï¼Œä¾‹å¦‚ rtmp://127.0.0.1/live/stream_form_ffmpeg</td></tr><tr><td style="text-align:center;">timeout_ms</td><td style="text-align:center;">Y</td><td style="text-align:center;">FFmpeg æ¨æµæˆåŠŸè¶…æ—¶æ—¶é—´</td></tr><tr><td style="text-align:center;">enable_hls</td><td style="text-align:center;">Y</td><td style="text-align:center;">æ˜¯å¦å¼€å¯ hls å½•åˆ¶</td></tr><tr><td style="text-align:center;">enable_mp4</td><td style="text-align:center;">Y</td><td style="text-align:center;">æ˜¯å¦å¼€å¯ mp4 å½•åˆ¶</td></tr><tr><td style="text-align:center;">ffmpeg_cmd_key</td><td style="text-align:center;">N</td><td style="text-align:center;">é…ç½®æ–‡ä»¶ä¸­ FFmpeg å‘½ä»¤å‚æ•°æ¨¡æ¿ key(éå†…å®¹)ï¼Œç½®ç©ºåˆ™é‡‡ç”¨é»˜è®¤æ¨¡æ¿:<code>ffmpeg.cmd</code></td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;key&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;5f748d2ef9712e4b2f6f970c1d44d93a&quot;</span>  # å”¯ä¸€key
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_15ã€-index-api-delffmpegsource-æµæ³¨å†ŒæˆåŠŸå-ä¹Ÿå¯ä»¥ä½¿ç”¨close-streamsæ¥å£æ›¿ä»£" tabindex="-1"><a class="header-anchor" href="#_15ã€-index-api-delffmpegsource-æµæ³¨å†ŒæˆåŠŸå-ä¹Ÿå¯ä»¥ä½¿ç”¨close-streamsæ¥å£æ›¿ä»£" aria-hidden="true">#</a> 15ã€<code>/index/api/delFFmpegSource(æµæ³¨å†ŒæˆåŠŸåï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨close_streamsæ¥å£æ›¿ä»£)</code></h3><ul><li><p>åŠŸèƒ½ï¼šå…³é—­ ffmpeg æ‹‰æµä»£ç†</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/delFFmpegSource?key=5f748d2ef9712e4b2f6f970c1d44d93a" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/delFFmpegSource?key=5f748d2ef9712e4b2f6f970c1d44d93a<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">key</td><td style="text-align:center;">Y</td><td style="text-align:center;">addFFmpegSource æ¥å£è¿”å›çš„ key</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;flag&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # æˆåŠŸä¸å¦
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_16ã€-index-api-ismediaonline-å·²è¿‡æœŸ-è¯·ä½¿ç”¨getmedialistæ¥å£æ›¿ä»£" tabindex="-1"><a class="header-anchor" href="#_16ã€-index-api-ismediaonline-å·²è¿‡æœŸ-è¯·ä½¿ç”¨getmedialistæ¥å£æ›¿ä»£" aria-hidden="true">#</a> 16ã€<code>/index/api/isMediaOnline(å·²è¿‡æœŸï¼Œè¯·ä½¿ç”¨getMediaListæ¥å£æ›¿ä»£)</code></h3><ul><li><p>åŠŸèƒ½ï¼šåˆ¤æ–­ç›´æ’­æµæ˜¯å¦åœ¨çº¿</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/isMediaOnline?schema=rtsp&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=obs" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/isMediaOnline?schema=rtsp&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=obs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">Y</td><td style="text-align:center;">åè®®ï¼Œä¾‹å¦‚ rtsp æˆ– rtmp</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">åº”ç”¨åï¼Œä¾‹å¦‚ live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµ idï¼Œä¾‹å¦‚ obs</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;online&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # æ˜¯å¦åœ¨çº¿
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_17ã€-index-api-getmediainfo-å·²è¿‡æœŸ-è¯·ä½¿ç”¨getmedialistæ¥å£æ›¿ä»£" tabindex="-1"><a class="header-anchor" href="#_17ã€-index-api-getmediainfo-å·²è¿‡æœŸ-è¯·ä½¿ç”¨getmedialistæ¥å£æ›¿ä»£" aria-hidden="true">#</a> 17ã€<code>/index/api/getMediaInfo(å·²è¿‡æœŸï¼Œè¯·ä½¿ç”¨getMediaListæ¥å£æ›¿ä»£)</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å–æµç›¸å…³ä¿¡æ¯</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/getMediaInfo?schema=rtsp&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=obs" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getMediaInfo?schema=rtsp&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=obs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">Y</td><td style="text-align:center;">åè®®ï¼Œä¾‹å¦‚ rtsp æˆ– rtmp</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">åº”ç”¨åï¼Œä¾‹å¦‚ live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµ idï¼Œä¾‹å¦‚ obs</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;online&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> # æ˜¯å¦åœ¨çº¿
  <span class="token property">&quot;readerCount&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # æœ¬åè®®è§‚çœ‹äººæ•°
  <span class="token property">&quot;totalReaderCount&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # è§‚çœ‹æ€»äººæ•°ï¼ŒåŒ…æ‹¬hls/rtsp/rtmp/http-flv/ws-flv
  <span class="token property">&quot;tracks&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> # è½¨é“åˆ—è¡¨
        <span class="token punctuation">{</span>
           <span class="token property">&quot;channels&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> # éŸ³é¢‘é€šé“æ•°
           <span class="token property">&quot;codec_id&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> # H264 = <span class="token number">0</span><span class="token punctuation">,</span> H265 = <span class="token number">1</span><span class="token punctuation">,</span> AAC = <span class="token number">2</span><span class="token punctuation">,</span> G711A = <span class="token number">3</span><span class="token punctuation">,</span> G711U = <span class="token number">4</span>
           <span class="token property">&quot;codec_id_name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CodecAAC&quot;</span><span class="token punctuation">,</span> # ç¼–ç ç±»å‹åç§°
           <span class="token property">&quot;codec_type&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> # Video = <span class="token number">0</span><span class="token punctuation">,</span> Audio = <span class="token number">1</span>
           <span class="token property">&quot;ready&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> # è½¨é“æ˜¯å¦å‡†å¤‡å°±ç»ª
           <span class="token property">&quot;sample_bit&quot;</span> <span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> # éŸ³é¢‘é‡‡æ ·ä½æ•°
           <span class="token property">&quot;sample_rate&quot;</span> <span class="token operator">:</span> <span class="token number">8000</span> # éŸ³é¢‘é‡‡æ ·ç‡
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
           <span class="token property">&quot;codec_id&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # H264 = <span class="token number">0</span><span class="token punctuation">,</span> H265 = <span class="token number">1</span><span class="token punctuation">,</span> AAC = <span class="token number">2</span><span class="token punctuation">,</span> G711A = <span class="token number">3</span><span class="token punctuation">,</span> G711U = <span class="token number">4</span>
           <span class="token property">&quot;codec_id_name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CodecH264&quot;</span><span class="token punctuation">,</span> # ç¼–ç ç±»å‹åç§°
           <span class="token property">&quot;codec_type&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> # Video = <span class="token number">0</span><span class="token punctuation">,</span> Audio = <span class="token number">1</span>
           <span class="token property">&quot;fps&quot;</span> <span class="token operator">:</span> <span class="token number">59</span><span class="token punctuation">,</span>  # è§†é¢‘fps
           <span class="token property">&quot;height&quot;</span> <span class="token operator">:</span> <span class="token number">720</span><span class="token punctuation">,</span> # è§†é¢‘é«˜
           <span class="token property">&quot;ready&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  # è½¨é“æ˜¯å¦å‡†å¤‡å°±ç»ª
           <span class="token property">&quot;width&quot;</span> <span class="token operator">:</span> <span class="token number">1280</span> # è§†é¢‘å®½
        <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_18ã€-index-api-getrtpinfo" tabindex="-1"><a class="header-anchor" href="#_18ã€-index-api-getrtpinfo" aria-hidden="true">#</a> 18ã€<code>/index/api/getRtpInfo</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å– rtp ä»£ç†æ—¶çš„æŸè·¯ ssrc rtp ä¿¡æ¯</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/getRtpInfo?ssrc=1A2B3C4D" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getRtpInfo?stream_id=1A2B3C4D<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">stream_id</td><td style="text-align:center;">Y</td><td style="text-align:center;">RTP çš„ ssrcï¼Œ16 è¿›åˆ¶å­—ç¬¦ä¸²æˆ–è€…æ˜¯æµçš„ id(openRtpServer æ¥å£æŒ‡å®š)</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;exist&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> # æ˜¯å¦å­˜åœ¨
   <span class="token property">&quot;peer_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;192.168.0.23&quot;</span><span class="token punctuation">,</span> # æ¨æµå®¢æˆ·ç«¯ip
   <span class="token property">&quot;peer_port&quot;</span> <span class="token operator">:</span> <span class="token number">54000</span> # å®¢æˆ·ç«¯ç«¯å£å·
   <span class="token property">&quot;local_ip&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0.0.0.0&quot;</span><span class="token punctuation">,</span> #æœ¬åœ°ç›‘å¬çš„ç½‘å¡ip
   <span class="token property">&quot;local_port&quot;</span> <span class="token operator">:</span> <span class="token number">10000</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_19ã€-index-api-getmp4recordfile" tabindex="-1"><a class="header-anchor" href="#_19ã€-index-api-getmp4recordfile" aria-hidden="true">#</a> 19ã€<code>/index/api/getMp4RecordFile</code></h3><ul><li><p>åŠŸèƒ½ï¼šæœç´¢æ–‡ä»¶ç³»ç»Ÿï¼Œè·å–æµå¯¹åº”çš„å½•åƒæ–‡ä»¶åˆ—è¡¨æˆ–æ—¥æœŸæ–‡ä»¶å¤¹åˆ—è¡¨</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/getMp4RecordFile?vhost=__defaultVhost__&amp;app=live&amp;stream=ss&amp;period=2020-01" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getMp4RecordFile?vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=ss&amp;period=2020-01<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµçš„è™šæ‹Ÿä¸»æœºå</td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµçš„åº”ç”¨å</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµçš„ ID</td></tr><tr><td style="text-align:center;">period</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµçš„å½•åƒæ—¥æœŸï¼Œæ ¼å¼ä¸º 2020-02-01,å¦‚æœä¸æ˜¯å®Œæ•´çš„æ—¥æœŸï¼Œé‚£ä¹ˆæ˜¯æœç´¢å½•åƒæ–‡ä»¶å¤¹åˆ—è¡¨ï¼Œå¦åˆ™æœç´¢å¯¹åº”æ—¥æœŸä¸‹çš„ mp4 æ–‡ä»¶åˆ—è¡¨</td></tr><tr><td style="text-align:center;">customized_path</td><td style="text-align:center;">N</td><td style="text-align:center;">è‡ªå®šä¹‰æœç´¢è·¯å¾„ï¼Œä¸ startRecord æ–¹æ³•ä¸­çš„ customized_path ä¸€æ ·ï¼Œé»˜è®¤ä¸ºé…ç½®æ–‡ä»¶çš„è·¯å¾„</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code># æœç´¢æ–‡ä»¶å¤¹åˆ—è¡¨(æŒ‰ç…§å‰ç¼€åŒ¹é…è§„åˆ™)ï¼šperiod = <span class="token number">2020</span><span class="token number">-01</span>
<span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;paths&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;2020-01-25&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2020-01-24&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rootPath&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;/www/record/live/ss/&quot;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

# æœç´¢mp4æ–‡ä»¶åˆ—è¡¨ï¼šperiod = <span class="token number">2020</span><span class="token number">-01</span><span class="token number">-24</span>
<span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;paths&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
         <span class="token string">&quot;22-20-30.mp4&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;22-13-12.mp4&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;21-57-07.mp4&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;21-19-18.mp4&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;21-24-21.mp4&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;21-15-10.mp4&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;22-14-14.mp4&quot;</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rootPath&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;/www/live/ss/2020-01-24/&quot;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_20ã€-index-api-startrecord" tabindex="-1"><a class="header-anchor" href="#_20ã€-index-api-startrecord" aria-hidden="true">#</a> 20ã€<code>/index/api/startRecord</code></h3><ul><li><p>åŠŸèƒ½ï¼šå¼€å§‹å½•åˆ¶ hls æˆ– MP4</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/startRecord?type=1&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=obs" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/startRecord?type=1&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=obs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th><th>ç±»å‹</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td><td>string</td></tr><tr><td style="text-align:center;">type</td><td style="text-align:center;">Y</td><td style="text-align:center;">0 ä¸º hlsï¼Œ1 ä¸º mp4</td><td>0/1</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<code>__defaultVhost__</code></td><td>string</td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">åº”ç”¨åï¼Œä¾‹å¦‚ live</td><td>string</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµ idï¼Œä¾‹å¦‚ obs</td><td>string</td></tr><tr><td style="text-align:center;">customized_path</td><td style="text-align:center;">N</td><td style="text-align:center;">å½•åƒä¿å­˜ç›®å½•</td><td>string</td></tr><tr><td style="text-align:center;">max_second</td><td style="text-align:center;">N</td><td style="text-align:center;">mp4 å½•åƒåˆ‡ç‰‡æ—¶é—´å¤§å°,å•ä½ç§’ï¼Œç½® 0 åˆ™é‡‡ç”¨é…ç½®é¡¹</td><td>int</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;result&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # æˆåŠŸä¸å¦
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_21ã€-index-api-stoprecord" tabindex="-1"><a class="header-anchor" href="#_21ã€-index-api-stoprecord" aria-hidden="true">#</a> 21ã€<code>/index/api/stopRecord</code></h3><ul><li><p>åŠŸèƒ½ï¼šåœæ­¢å½•åˆ¶æµ</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/stopRecord?type=1&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=obs" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/stopRecord?type=1&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=obs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">type</td><td style="text-align:center;">Y</td><td style="text-align:center;">0 ä¸º hlsï¼Œ1 ä¸º mp4</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">åº”ç”¨åï¼Œä¾‹å¦‚ live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµ idï¼Œä¾‹å¦‚ obs</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;result&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # æˆåŠŸä¸å¦
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_22ã€-index-api-isrecording" tabindex="-1"><a class="header-anchor" href="#_22ã€-index-api-isrecording" aria-hidden="true">#</a> 22ã€<code>/index/api/isRecording</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å–æµå½•åˆ¶çŠ¶æ€</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/isRecording?type=1&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=obs" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/isRecording?type=1&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=obs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">type</td><td style="text-align:center;">Y</td><td style="text-align:center;">0 ä¸º hlsï¼Œ1 ä¸º mp4</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">åº”ç”¨åï¼Œä¾‹å¦‚ live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµ idï¼Œä¾‹å¦‚ obs</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;status&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # <span class="token boolean">false</span><span class="token operator">:</span>æœªå½•åˆ¶<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token operator">:</span>æ­£åœ¨å½•åˆ¶
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_23ã€-index-api-getsnap" tabindex="-1"><a class="header-anchor" href="#_23ã€-index-api-getsnap" aria-hidden="true">#</a> 23ã€<code>/index/api/getSnap</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å–æˆªå›¾æˆ–ç”Ÿæˆå®æ—¶æˆªå›¾å¹¶è¿”å›</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/getSnap?url=rtmp://127.0.0.1/record/robot.mp4&amp;timeout_sec=10&amp;expire_sec=30" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getSnap?url=rtmp://127.0.0.1/record/robot.mp4&amp;timeout_sec=10&amp;expire_sec=30<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">url</td><td style="text-align:center;">Y</td><td style="text-align:center;">éœ€è¦æˆªå›¾çš„ urlï¼Œå¯ä»¥æ˜¯æœ¬æœºçš„ï¼Œä¹Ÿå¯ä»¥æ˜¯è¿œç¨‹ä¸»æœºçš„</td></tr><tr><td style="text-align:center;">timeout_sec</td><td style="text-align:center;">Y</td><td style="text-align:center;">æˆªå›¾å¤±è´¥è¶…æ—¶æ—¶é—´ï¼Œé˜²æ­¢ FFmpeg ä¸€ç›´ç­‰å¾…æˆªå›¾</td></tr><tr><td style="text-align:center;">expire_sec</td><td style="text-align:center;">Y</td><td style="text-align:center;">æˆªå›¾çš„è¿‡æœŸæ—¶é—´ï¼Œè¯¥æ—¶é—´å†…äº§ç”Ÿçš„æˆªå›¾éƒ½ä¼šä½œä¸ºç¼“å­˜è¿”å›</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code>jpegæ ¼å¼çš„å›¾ç‰‡ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ç›´æ¥æ‰“å¼€
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h3 id="_24ã€-index-api-openrtpserver" tabindex="-1"><a class="header-anchor" href="#_24ã€-index-api-openrtpserver" aria-hidden="true">#</a> 24ã€<code>/index/api/openRtpServer</code></h3><ul><li><p>åŠŸèƒ½ï¼šåˆ›å»º GB28181 RTP æ¥æ”¶ç«¯å£ï¼Œå¦‚æœè¯¥ç«¯å£æ¥æ”¶æ•°æ®è¶…æ—¶ï¼Œåˆ™ä¼šè‡ªåŠ¨è¢«å›æ”¶(ä¸ç”¨è°ƒç”¨ closeRtpServer æ¥å£)</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/openRtpServer?port=0&amp;tcp_mode=1&amp;stream_id=test" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/openRtpServer?port=0&amp;tcp_mode=1&amp;stream_id=test<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">port</td><td style="text-align:center;">Y</td><td style="text-align:center;">æ¥æ”¶ç«¯å£ï¼Œ0 åˆ™ä¸ºéšæœºç«¯å£</td></tr><tr><td style="text-align:center;">tcp_mode</td><td style="text-align:center;">Y</td><td style="text-align:center;">0 udp æ¨¡å¼ï¼Œ1 tcp è¢«åŠ¨æ¨¡å¼, 2 tcp ä¸»åŠ¨æ¨¡å¼ã€‚ (å…¼å®¹ enable_tcp ä¸º 0/1)</td></tr><tr><td style="text-align:center;">stream_id</td><td style="text-align:center;">Y</td><td style="text-align:center;">è¯¥ç«¯å£ç»‘å®šçš„æµ IDï¼Œè¯¥ç«¯å£åªèƒ½åˆ›å»ºè¿™ä¸€ä¸ªæµ(è€Œä¸æ˜¯æ ¹æ® ssrc åˆ›å»ºå¤šä¸ª)</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;port&quot;</span> <span class="token operator">:</span> <span class="token number">55463</span> #æ¥æ”¶ç«¯å£ï¼Œæ–¹ä¾¿è·å–éšæœºç«¯å£å·
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_25ã€-index-api-closertpserver" tabindex="-1"><a class="header-anchor" href="#_25ã€-index-api-closertpserver" aria-hidden="true">#</a> 25ã€<code>/index/api/closeRtpServer</code></h3><ul><li><p>åŠŸèƒ½ï¼šå…³é—­ GB28181 RTP æ¥æ”¶ç«¯å£</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/closeRtpServer?stream_id=test" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/closeRtpServer?stream_id=test<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">stream_id</td><td style="text-align:center;">Y</td><td style="text-align:center;">è°ƒç”¨ openRtpServer æ¥å£æ—¶æä¾›çš„æµ ID</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;hit&quot;</span><span class="token operator">:</span> <span class="token number">1</span> #æ˜¯å¦æ‰¾åˆ°è®°å½•å¹¶å…³é—­
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_26ã€-index-api-listrtpserver" tabindex="-1"><a class="header-anchor" href="#_26ã€-index-api-listrtpserver" aria-hidden="true">#</a> 26ã€<code>/index/api/listRtpServer</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å– openRtpServer æ¥å£åˆ›å»ºçš„æ‰€æœ‰ RTP æœåŠ¡å™¨</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/listRtpServer" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/listRtpServer<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;port&quot;</span> <span class="token operator">:</span> <span class="token number">52183</span><span class="token punctuation">,</span> #ç»‘å®šçš„ç«¯å£å·
         <span class="token property">&quot;stream_id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;test&quot;</span> #ç»‘å®šçš„æµID
      <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_27ã€-index-api-startsendrtp" tabindex="-1"><a class="header-anchor" href="#_27ã€-index-api-startsendrtp" aria-hidden="true">#</a> 27ã€<code>/index/api/startSendRtp</code></h3><ul><li><p>åŠŸèƒ½ï¼šä½œä¸º GB28181 å®¢æˆ·ç«¯ï¼Œå¯åŠ¨ ps-rtp æ¨æµï¼Œæ”¯æŒ rtp/udp æ–¹å¼ï¼›è¯¥æ¥å£æ”¯æŒ rtsp/rtmp ç­‰åè®®è½¬ ps-rtp æ¨æµã€‚ç¬¬ä¸€æ¬¡æ¨æµå¤±è´¥ä¼šç›´æ¥è¿”å›é”™è¯¯ï¼ŒæˆåŠŸä¸€æ¬¡åï¼Œåç»­å¤±è´¥ä¹Ÿå°†æ— é™é‡è¯•ã€‚</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/startSendRtp?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=test&amp;ssrc=1&amp;dst_url=127.0.0.1&amp;dst_port=10000&amp;is_udp=0" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/startSendRtp?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=test&amp;ssrc=1&amp;dst_url=127.0.0.1&amp;dst_port=10000&amp;is_udp=0<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<strong>defaultVhost</strong></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">åº”ç”¨åï¼Œä¾‹å¦‚ live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµ idï¼Œä¾‹å¦‚ test</td></tr><tr><td style="text-align:center;">ssrc</td><td style="text-align:center;">Y</td><td style="text-align:center;">æ¨æµçš„ rtp çš„ ssrc,æŒ‡å®šä¸åŒçš„ ssrc å¯ä»¥åŒæ—¶æ¨æµåˆ°å¤šä¸ªæœåŠ¡å™¨</td></tr><tr><td style="text-align:center;">dst_url</td><td style="text-align:center;">Y</td><td style="text-align:center;">ç›®æ ‡ ip æˆ–åŸŸå</td></tr><tr><td style="text-align:center;">dst_port</td><td style="text-align:center;">Y</td><td style="text-align:center;">ç›®æ ‡ç«¯å£</td></tr><tr><td style="text-align:center;">is_udp</td><td style="text-align:center;">Y</td><td style="text-align:center;">æ˜¯å¦ä¸º udp æ¨¡å¼,å¦åˆ™ä¸º tcp æ¨¡å¼</td></tr><tr><td style="text-align:center;">src_port</td><td style="text-align:center;">N</td><td style="text-align:center;">ä½¿ç”¨çš„æœ¬æœºç«¯å£ï¼Œä¸º 0 æˆ–ä¸ä¼ æ—¶é»˜è®¤ä¸ºéšæœºç«¯å£</td></tr><tr><td style="text-align:center;">pt</td><td style="text-align:center;">N</td><td style="text-align:center;">å‘é€æ—¶ï¼Œrtp çš„ ptï¼ˆuint8_tï¼‰,ä¸ä¼ æ—¶é»˜è®¤ä¸º 96</td></tr><tr><td style="text-align:center;">use_ps</td><td style="text-align:center;">N</td><td style="text-align:center;">å‘é€æ—¶ï¼Œrtp çš„è´Ÿè½½ç±»å‹ã€‚ä¸º 1 æ—¶ï¼Œè´Ÿè½½ä¸º psï¼›ä¸º 0 æ—¶ï¼Œä¸º esï¼›ä¸ä¼ æ—¶é»˜è®¤ä¸º 1</td></tr><tr><td style="text-align:center;">only_audio</td><td style="text-align:center;">N</td><td style="text-align:center;">å½“ use_ps ä¸º 0 æ—¶ï¼Œæœ‰æ•ˆã€‚ä¸º 1 æ—¶ï¼Œå‘é€éŸ³é¢‘ï¼›ä¸º 0 æ—¶ï¼Œå‘é€è§†é¢‘ï¼›ä¸ä¼ æ—¶é»˜è®¤ä¸º 0</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> #æˆåŠŸ
   <span class="token property">&quot;local_port&quot;</span><span class="token operator">:</span> <span class="token number">57152</span> #ä½¿ç”¨çš„æœ¬åœ°ç«¯å£å·
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_27-1-ã€-index-api-startsendrtppassive" tabindex="-1"><a class="header-anchor" href="#_27-1-ã€-index-api-startsendrtppassive" aria-hidden="true">#</a> 27.1 ã€<code>/index/api/startSendRtpPassive</code></h4><ul><li><p>åŠŸèƒ½ï¼šä½œä¸º GB28181 Passive TCP æœåŠ¡å™¨ï¼›è¯¥æ¥å£æ”¯æŒ rtsp/rtmp ç­‰åè®®è½¬ ps-rtp è¢«åŠ¨æ¨æµã€‚è°ƒç”¨è¯¥æ¥å£ï¼Œzlm ä¼šå¯åŠ¨ tcp æœåŠ¡å™¨ç­‰å¾…è¿æ¥è¯·æ±‚ï¼Œè¿æ¥å»ºç«‹åï¼Œzlm ä¼šå…³é—­ tcp æœåŠ¡å™¨ï¼Œç„¶åæºæºä¸æ–­çš„å¾€å®¢æˆ·ç«¯æ¨æµã€‚ç¬¬ä¸€æ¬¡æ¨æµå¤±è´¥ä¼šç›´æ¥è¿”å›é”™è¯¯ï¼ŒæˆåŠŸä¸€æ¬¡åï¼Œåç»­å¤±è´¥ä¹Ÿå°†æ— é™é‡è¯•(ä¸åœåœ°å»ºç«‹ tcp ç›‘å¬ï¼Œè¶…æ—¶åå†å…³é—­)ã€‚</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/startSendRtpPassive?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=test&amp;ssrc=1" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/startSendRtpPassive?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=test&amp;ssrc=1<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<strong>defaultVhost</strong></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">åº”ç”¨åï¼Œä¾‹å¦‚ live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµ idï¼Œä¾‹å¦‚ test</td></tr><tr><td style="text-align:center;">ssrc</td><td style="text-align:center;">Y</td><td style="text-align:center;">æ¨æµçš„ rtp çš„ ssrc,æŒ‡å®šä¸åŒçš„ ssrc å¯ä»¥åŒæ—¶æ¨æµåˆ°å¤šä¸ªæœåŠ¡å™¨</td></tr><tr><td style="text-align:center;">src_port</td><td style="text-align:center;">N</td><td style="text-align:center;">ä½¿ç”¨çš„æœ¬æœºç«¯å£ï¼Œä¸º 0 æˆ–ä¸ä¼ æ—¶é»˜è®¤ä¸ºéšæœºç«¯å£</td></tr><tr><td style="text-align:center;">pt</td><td style="text-align:center;">N</td><td style="text-align:center;">å‘é€æ—¶ï¼Œrtp çš„ ptï¼ˆuint8_tï¼‰,ä¸ä¼ æ—¶é»˜è®¤ä¸º 96</td></tr><tr><td style="text-align:center;">use_ps</td><td style="text-align:center;">N</td><td style="text-align:center;">å‘é€æ—¶ï¼Œrtp çš„è´Ÿè½½ç±»å‹ã€‚ä¸º 1 æ—¶ï¼Œè´Ÿè½½ä¸º psï¼›ä¸º 0 æ—¶ï¼Œä¸º esï¼›ä¸ä¼ æ—¶é»˜è®¤ä¸º 1</td></tr><tr><td style="text-align:center;">only_audio</td><td style="text-align:center;">N</td><td style="text-align:center;">å½“ use_ps ä¸º 0 æ—¶ï¼Œæœ‰æ•ˆã€‚ä¸º 1 æ—¶ï¼Œå‘é€éŸ³é¢‘ï¼›ä¸º 0 æ—¶ï¼Œå‘é€è§†é¢‘ï¼›ä¸ä¼ æ—¶é»˜è®¤ä¸º 0</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> #æˆåŠŸ
   <span class="token property">&quot;local_port&quot;</span><span class="token operator">:</span> <span class="token number">57152</span> #ä½¿ç”¨çš„æœ¬åœ°ç«¯å£å·
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_28ã€-index-api-stopsendrtp" tabindex="-1"><a class="header-anchor" href="#_28ã€-index-api-stopsendrtp" aria-hidden="true">#</a> 28ã€<code>/index/api/stopSendRtp</code></h3><ul><li><p>åŠŸèƒ½ï¼šåœæ­¢ GB28181 ps-rtp æ¨æµ</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/stopSendRtp?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=test" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/stopSendRtp?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;vhost=<code>__defaultVhost__</code>&amp;app=live&amp;stream=test<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<strong>defaultVhost</strong></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">åº”ç”¨åï¼Œä¾‹å¦‚ live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµ idï¼Œä¾‹å¦‚ test</td></tr><tr><td style="text-align:center;">ssrc</td><td style="text-align:center;">N</td><td style="text-align:center;">æ ¹æ® ssrc å…³åœæŸè·¯ rtp æ¨æµï¼Œç½®ç©ºæ—¶å…³é—­æ‰€æœ‰æµ</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span> #æˆåŠŸ
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_29ã€-index-api-getstatistic" tabindex="-1"><a class="header-anchor" href="#_29ã€-index-api-getstatistic" aria-hidden="true">#</a> 29ã€<code>/index/api/getStatistic</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å–ä¸»è¦å¯¹è±¡ä¸ªæ•°ç»Ÿè®¡ï¼Œä¸»è¦ç”¨äºåˆ†æå†…å­˜æ€§èƒ½</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/getStatistic?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/getStatistic?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Buffer&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;BufferLikeString&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;BufferList&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;BufferRaw&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Frame&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;FrameImp&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;MediaSource&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;MultiMediaSourceMuxer&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Socket&quot;</span><span class="token operator">:</span> <span class="token number">66</span><span class="token punctuation">,</span>
    <span class="token property">&quot;TcpClient&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;TcpServer&quot;</span><span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>
    <span class="token property">&quot;TcpSession&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_30ã€-index-api-addstreampusherproxy" tabindex="-1"><a class="header-anchor" href="#_30ã€-index-api-addstreampusherproxy" aria-hidden="true">#</a> 30ã€<code>/index/api/addStreamPusherProxy</code></h3><ul><li><p>åŠŸèƒ½ï¼šæ·»åŠ  rtsp/rtmp ä¸»åŠ¨æ¨æµ(æŠŠæœ¬æœåŠ¡å™¨çš„ç›´æ’­æµæ¨é€åˆ°å…¶ä»–æœåŠ¡å™¨å»)</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/addStreamProxy?vhost=%60__defaultVhost__%60&amp;app=proxy&amp;stream=test&amp;dst_url=rtmp://127.0.0.1/live/test2" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/addStreamPusherProxy?vhost=<code>__defaultVhost__</code>&amp;app=proxy&amp;stream=test&amp;dst_url=rtmp://127.0.0.1/live/test2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">æ·»åŠ çš„æµçš„è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">Y</td><td style="text-align:center;">åè®®ï¼Œä¾‹å¦‚ rtsp æˆ– rtmp</td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">æ·»åŠ çš„æµçš„åº”ç”¨åï¼Œä¾‹å¦‚ live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">éœ€è¦è½¬æ¨çš„æµ id</td></tr><tr><td style="text-align:center;">dst_url</td><td style="text-align:center;">Y</td><td style="text-align:center;">ç›®æ ‡è½¬æ¨ urlï¼Œå¸¦å‚æ•°éœ€è¦è‡ªè¡Œ url è½¬ä¹‰</td></tr><tr><td style="text-align:center;">retry_count</td><td style="text-align:center;">N</td><td style="text-align:center;">è½¬æ¨å¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤æ— é™é‡è¯•</td></tr><tr><td style="text-align:center;">rtp_type</td><td style="text-align:center;">N</td><td style="text-align:center;">rtsp æ¨æµæ—¶ï¼Œæ¨æµæ–¹å¼ï¼Œ0ï¼štcpï¼Œ1ï¼šudp</td></tr><tr><td style="text-align:center;">timeout_sec</td><td style="text-align:center;">N</td><td style="text-align:center;">æ¨æµè¶…æ—¶æ—¶é—´ï¼Œå•ä½ç§’ï¼Œfloat ç±»å‹</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;key&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;rtmp/__defaultVhost__/proxy/test/4AB43C9EABEB76AB443BB8260C8B2D12&quot;</span>  # æµçš„å”¯ä¸€æ ‡è¯†
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_31ã€-index-api-delstreampusherproxy-å¯ä»¥ä½¿ç”¨close-streamsæ¥å£å…³é—­æºç›´æ’­æµä¹Ÿå¯ä»¥åœæ­¢æ¨æµ" tabindex="-1"><a class="header-anchor" href="#_31ã€-index-api-delstreampusherproxy-å¯ä»¥ä½¿ç”¨close-streamsæ¥å£å…³é—­æºç›´æ’­æµä¹Ÿå¯ä»¥åœæ­¢æ¨æµ" aria-hidden="true">#</a> 31ã€<code>/index/api/delStreamPusherProxy(å¯ä»¥ä½¿ç”¨close_streamsæ¥å£å…³é—­æºç›´æ’­æµä¹Ÿå¯ä»¥åœæ­¢æ¨æµ)</code></h3><ul><li><p>åŠŸèƒ½ï¼šå…³é—­æ¨æµ</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/delStreamPusherProxy?key=rtmp/__defaultVhost__/proxy/test/4AB43C9EABEB76AB443BB8260C8B2D12" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/delStreamPusherProxy?key=rtmp/<strong>defaultVhost</strong>/proxy/test/4AB43C9EABEB76AB443BB8260C8B2D12<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">key</td><td style="text-align:center;">Y</td><td style="text-align:center;">addStreamPusherProxy æ¥å£è¿”å›çš„ key</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;flag&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span> # æˆåŠŸä¸å¦
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_32ã€-index-api-version-è·å–ç‰ˆæœ¬ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_32ã€-index-api-version-è·å–ç‰ˆæœ¬ä¿¡æ¯" aria-hidden="true">#</a> 32ã€<code>/index/api/version(è·å–ç‰ˆæœ¬ä¿¡æ¯)</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å–ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¦‚åˆ†æ”¯ï¼Œcommit id, ç¼–è¯‘æ—¶é—´</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1/index/api/version" target="_blank" rel="noopener noreferrer">http://127.0.0.1/index/api/version<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;branchName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;master&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;buildTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-04-19T10:34:34&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;commitHash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;f143898&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_33ã€-index-api-getmediaplayerlist" tabindex="-1"><a class="header-anchor" href="#_33ã€-index-api-getmediaplayerlist" aria-hidden="true">#</a> 33ã€<code>/index/api/getMediaPlayerList</code></h3><ul><li><p>åŠŸèƒ½ï¼šè·å–æŸä¸ªæµè§‚çœ‹è€…åˆ—è¡¨</p></li><li><p>èŒƒä¾‹ï¼š<a href="http://127.0.0.1:8080/index/api/getMediaPlayerList?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;schema=rtsp&amp;vhost=__defaultVhost__&amp;app=live&amp;stream=test&#39;" target="_blank" rel="noopener noreferrer">http://127.0.0.1:8080/index/api/getMediaPlayerList?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&amp;schema=rtsp&amp;vhost=<strong>defaultVhost</strong>&amp;app=live&amp;stream=test&#39;<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>å‚æ•°ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ˜¯å¦å¿…é€‰</th><th style="text-align:center;">é‡Šæ„</th></tr></thead><tbody><tr><td style="text-align:center;">secret</td><td style="text-align:center;">Y</td><td style="text-align:center;">api æ“ä½œå¯†é’¥(é…ç½®æ–‡ä»¶é…ç½®)</td></tr><tr><td style="text-align:center;">schema</td><td style="text-align:center;">Y</td><td style="text-align:center;">åè®®ï¼Œä¾‹å¦‚ rtsp æˆ– rtmp</td></tr><tr><td style="text-align:center;">vhost</td><td style="text-align:center;">Y</td><td style="text-align:center;">è™šæ‹Ÿä¸»æœºï¼Œä¾‹å¦‚<code>__defaultVhost__</code></td></tr><tr><td style="text-align:center;">app</td><td style="text-align:center;">Y</td><td style="text-align:center;">åº”ç”¨åï¼Œä¾‹å¦‚ live</td></tr><tr><td style="text-align:center;">stream</td><td style="text-align:center;">Y</td><td style="text-align:center;">æµ idï¼Œä¾‹å¦‚ obs</td></tr></tbody></table></li><li><p>å“åº”ï¼š</p></li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;identifier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3-309&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;local_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;::&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;local_port&quot;</span><span class="token operator">:</span> <span class="token number">8000</span><span class="token punctuation">,</span>
      <span class="token property">&quot;peer_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;172.18.190.159&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;peer_port&quot;</span><span class="token operator">:</span> <span class="token number">52996</span><span class="token punctuation">,</span>
      <span class="token property">&quot;typeid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mediakit::WebRtcSession&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/ZLMediaKit/docs/edit/main/src/zh/guide/media_server/restful_api.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: liyu7352@gmail.com">Alex</span>,<!--]--><!--[--><span class="contributor" title="email: mister-hope@outlook.com">Mr.Hope</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><!----><a aria-label="Web Hook æ¥å£" class="vp-link nav-link next nav-link next" href="/zh/guide/media_server/web_hook_api.html"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">Web Hook æ¥å£<!----></div></a></nav><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">MIT Licensed</div><div class="vp-copyright">Copyright Â© 2023 ZLMediaKit</div></footer></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-RP31lnfq.js" defer></script>
  </body>
</html>
